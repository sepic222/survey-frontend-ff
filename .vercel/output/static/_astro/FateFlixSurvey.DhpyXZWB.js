import{r as N,a as De,b as Se,g as Fe,R}from"./index.BIjdzmyy.js";var ee={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce;function He(){if(ce)return U;ce=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(u,d,p){var v=null;if(p!==void 0&&(v=""+p),d.key!==void 0&&(v=""+d.key),"key"in d){p={};for(var g in d)g!=="key"&&(p[g]=d[g])}else p=d;return d=p.ref,{$$typeof:n,type:u,key:v,ref:d!==void 0?d:null,props:p}}return U.Fragment=i,U.jsx=s,U.jsxs=s,U}var ue;function Ge(){return ue||(ue=1,ee.exports=He()),ee.exports}var t=Ge();const de=[{id:"intro-hero",title:"",questions:[{id:"start_hero",type:"hero_start",image:"/assets/fateflix-planet.png",subtitle:"CINEMATIC TASTE SURVEY",missionText:"We're building a movie matcher that gets your vibe, not just your watch history.",valueProps:["A personalised astro-cinematic reading","Beta tester access","Eternal bragging rights as an early FateFlix insider"],assuranceText:"Your guilty pleasures are safe here, so are your wild opinions.",buttonText:"Let's Begin"}]},{id:"astro-data",title:"Your Cosmic Identity",subtitle:"To cast your chart, we need your exact origins.",questions:[{id:"username",text:"What name should we call you in the credits?",type:"text",placeholder:"Name or Alias"},{id:"date",text:"Birth Date",type:"date"},{id:"time",text:"Birth Time",helpText:"Crucial for your Rising Sign.",type:"time",infoPopup:"Don't know your time? Call your mom, Check your birth certificate, Consult the galaxy you came from"},{id:"time_accuracy",text:"The Accuracy of your time of birth?",helpText:"The more precise you are, the deeper your astro-movie decoding.",type:"radio",options:[{value:"exact",label:"Exact time (you legend) â­"},{value:"approx_early",label:"Approximate: In the early hours of the morning"},{value:"approx_morning",label:"Approximate: Morning"},{value:"approx_midday",label:"Approximate: Midday"},{value:"approx_afternoon",label:"Approximate: Afternoon"},{value:"approx_night",label:"Approximate: Night"},{value:"unknown",label:"ðŸ¤· I have no idea (still works, but a bit more vague)"}]},{id:"city",text:"Birth City",type:"text",placeholder:"e.g. DÃ¼sseldorf",disclaimer:"*P.S. Weâ€™ll use your birth data to align the stars. Your data is sacred (like a vintage VHS: not for rent, sale, or stream)."},{id:"latitude",text:"Latitude",type:"number",placeholder:"e.g. 51.22"},{id:"longitude",text:"Longitude",type:"number",placeholder:"e.g. 6.77"}]},{id:"section-ii",title:"Attraction & Self-Casting",subtitle:"Who you are. Who you want. Who you play in the movie of life.",questions:[{id:"gender",text:"Your Gender",type:"radio",options:[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non_binary",label:"Non-binary"},{value:"trans",label:"Trans / Gender-expansive"},{value:"other",label:"Other"}]},{id:"attraction_style",text:"What's your attraction style or sexuality vibe?",helpText:"Helps us match your movie kisses, crushes, and chaotic soul connections.",type:"radio",options:[{value:"queer",label:"ðŸŒˆ Queer and thriving"},{value:"men",label:"ðŸ’‹ Attracted to men"},{value:"women",label:"ðŸ’… Attracted to women"},{value:"spectrum",label:"ðŸ’ž I love across the spectrum"},{value:"bi_pan",label:"ðŸŒª Bi/Pan/Switch energy"},{value:"demi_sapio",label:"ðŸ‘ï¸ Demisexual / Sapiosexual"},{value:"asexual",label:"ðŸ§Š Asexual / No thanks, I'm here for plot"},{value:"figuring_out",label:"ðŸ¤·â€â™€ï¸ Still figuring it out"},{value:"steamy_any",label:"ðŸ”¥ I love anything steamy, no matter the form"},{value:"no_label",label:"ðŸŒ€ I don't label it"},{value:"none",label:"ðŸ§¬ None of the above â€” Iâ€™ll define it"},{value:"other",label:"Other"}]},{id:"cine_level",text:"Where would you place yourself on the Movie Love-o-Meter?",type:"radio",options:[{value:"cinephile",label:"Cinephile Supreme (Raised at Blockbuster, evolved on MUBI)"},{value:"lover",label:"Movie Lover (I've got favourites, I notice good dialogue and cool visuals)"},{value:"time_poor",label:"Time-Poor Watcher (I watch when I can, sometimes fall asleep)"},{value:"streaming_vortex",label:"Streaming Vortex (I consume it all, good, bad, trashy)"},{value:"popcorn",label:"Popcorn-Only Viewer (I go to the cinema for explosions and hot cast)"},{value:"sleepy",label:"Sleepy Streamer (Background noise to fall asleep)"},{value:"recovering",label:"Recovering Binger (I finish even the worst series. HELP!))"},{value:"scroller",label:"Lost in the Scroll (45 mins scrolling, watch nothing, scroll socials)"},{value:"other",label:"Other"}]},{id:"life_role",text:"In the movie of your life... what role do you play?",helpText:"The role you actually play over and over again.",type:"radio",options:[{value:"rescuer",label:"The Rescuer (Help, save, protect, fix)"},{value:"disruptor",label:"The Chaotic Disruptor (I stir the plot)"},{value:"outsider",label:"The Dreamy Outsider (Out of step, deeply in tune)"},{value:"overachiever",label:"The Overachiever (I carry the expectations and I deliver)"},{value:"observer",label:"The Mysterious Observer"},{value:"ride_or_die",label:"The Ride-or-Die (Loyal, fierce)"},{value:"comic",label:"The Comic Relief (I lighten the mood when it gets too heavy)"},{value:"wanderer",label:"The Wanderer (Never rooted)"},{value:"mirror",label:"The Mirror (I become who people need me to be)"},{value:"audience",label:"Just here for the popcorn (Audience vibes)"},{value:"other",label:"Other"}]},{id:"escapism_style",text:"Your Emotional Escapism Style?",helpText:"How do you use movies to deal (or not deal) with your emotions?",type:"checkbox",options:[{value:"heartbreak",label:"ðŸ’” Heartbreak Healer (for breakups, grief, or emotional longing survival)"},{value:"hangover",label:"ðŸ˜µ Hangover Hero (gentle recovery when Iâ€™m fragile)"},{value:"floodgate",label:"ðŸ˜­ Emotional Floodgate (I want to cry/release)"},{value:"analyzer",label:"ðŸ§ Chaos Analyzer (Process life through movies)"},{value:"cozy",label:"ðŸ§¸ Cozy Comedown (safety, warmth, emotional blankets)"},{value:"creative",label:"ðŸŽ¨ Creative Kickstart (Spark ideas/ambition)"},{value:"romance",label:"ðŸ’˜ Romance Igniter (Butterflies, chemistry, connection)"},{value:"distraction",label:"ðŸ™ˆ Emotional Distraction (Laugh, forget, disassociate)"},{value:"meaning",label:"ðŸŒŒ Meaning Maker (Movies help me frame my life story)"},{value:"romanticizer",label:"ðŸ· Life Romanticizer (Make pain cinematic)"},{value:"beauty",label:"âœ¨ Beauty Seeker (Vibes & aesthetics over story)"},{value:"control",label:"ðŸŽ® Control Watcher (when life is chaos, at least I choose the movie)"},{value:"decoder",label:"ðŸ” People Decoder (I study characters to understand psychology + relationships)"},{value:"offline",label:"ðŸ”Œ Emotionally Offline (Don't feel them emotionally)"},{value:"ambience",label:"ðŸ›‹ï¸ Ambience-Only Watcher (Background energy not a full experience)"},{value:"other",label:"âœ¨ Other"}]},{id:"first_crush",text:"Who was your first cinematic obsession or role model?",helpText:"That one character, actor, or moment that rewired your brain. This isnâ€™t about attraction, itâ€™s about imprinting. The scene that made you want to be someone else or finally feel more like yourself.",type:"textarea",placeholder:"e.g. Wednesday Addams, Heath Ledger in 10 Things...",inspoPopup:"Julia Roberts in Erin Brockovich (courtroom scene), Tarantino (any film), Wednesday Addams/ Matilda, Trinity in The Matrix, Heath Ledger in 10 Things I Hate About You singing on the benches, Aragorn (LOTR), Sharon Stone in Basic Instinct (that one scene. Enough said.)"}]},{id:"section-iii",title:"Cinematic Taste",subtitle:"What you watch, how you watch, and how it makes you feel.",questions:[{id:"watch_habit",text:"How do you watch most of the time?",type:"checkbox",options:[{value:"solo",label:"Alone, in full control"},{value:"partner",label:"With a partner (we negotiate)"},{value:"friends",label:"With friends (it's an experience)"},{value:"late_night",label:"Late at night (emotionally open)"},{value:"weekends",label:"Only on weekends (ritual)"},{value:"multitask",label:"While multitasking (background mode)"},{value:"transit",label:"On phone/tablet in transit"},{value:"bed",label:"In bed, to fall asleep"},{value:"binge",label:"I binge no matter who's around"},{value:"scroll",label:"I scroll forever, watch nothing"},{value:"other",label:"Other"}]},{id:"fav_era",text:"What's your favourite movie era?",type:"checkbox",options:[{value:"silent",label:"Silent Era - Visual storytelling before sound",examples:"(Metropolis, Nosferatu, Charlie Chaplin, Joan of Arc)"},{value:"1930s",label:"1930s - Hollywood fantasy during hard times",examples:"(Dracula, Frankenstein, King Kong, Snow White)"},{value:"1940s",label:"1940s - Shadows, Smoke & Suspense",examples:"(Casablanca, Double Indemnity, The Third Man)"},{value:"1950s",label:"1950s - Studio Magic & Technicolor",examples:"(Rear Window, Roman Holiday, Rebel Without A Cause)"},{value:"1960s",label:"1960s - Revolution, Nouvelle Vague & Cool Chaos",examples:"(The Graduate, La Dolce Vita, 8 1/2, Rosemaryâ€™s Baby)"},{value:"1970s",label:"1970s - Grit, Glam & Auteur Uprising",examples:"(The Godfather, Taxi Driver, A Woman Under the Influence, Alien)"},{value:"1980s",label:"1980s - Neon, Synths & Shoulder Pads",examples:"(The Breakfast Club, Labyrinth, Flashdance, Blade Runner)"},{value:"1990s",label:"1990s - Indie Boom & VHS Royalty",examples:"(Clueless, Titanic, Pulp Fiction, Before Sunrise, The Matrix)"},{value:"2000s",label:"2000s - Tumblr-core & Teen Dreams",examples:"(Eternal Sunshine, Donnie Darko, Marie Antoinette, Mean Girls)"},{value:"post2010",label:"Post-2010 - A24 & Softcore Apocalypse",examples:"(Her, Parasite, Aftersun, The Worst Person in The World, EEAAO)"},{value:"streaming",label:"Streaming Era - Prestige TV & Cultural Moments",examples:"(Stranger Things, Squid Game, Euphoria, Succession)"},{value:"fluid",label:"Era-fluid: Time is fake."}]},{id:"culture_background",text:`ðŸŒ Where did you grow up (or feel culturally shaped by)?
Culture > Passport
Where did your movie, media, and serious worldview come from?`,type:"textarea",helpText:"This can be one place or many... think home, heritage, language, or the culture that raised you. Type the country or countries below.",placeholder:`USA (Blockbuster nights, Cartoon Network, MTV, VH1), India (Bollywood), Nordics (Scandi-Noir & dry humor), Telenovelas, Dizi...

Or for our mixed heritage clan:
Born in Berlin, raised on Turkish cinema.
Passport says Canada, but my screen soul is Korean.`},{id:"environment_growing_up",text:"What kind of environment did you grow up in?",type:"checkbox",options:[{value:"eclectic",label:"Globally curious / culturally eclectic"},{value:"traditional",label:"Traditional / locally rooted"},{value:"internet",label:"Internet-raised (Tumblr, YouTube)"},{value:"religious",label:"Religious or values-based"},{value:"artistic",label:"Artistic / progressive / liberal"},{value:"disruptor",label:"I was the cultural disruptor"},{value:"quiet",label:"Quiet, minimal, or emotionally closed"},{value:"moving",label:"Always moving / never settled"},{value:"other",label:"Other"}]}]},{id:"section-iv",title:"Cinematic Core Memories",subtitle:"The moments that made you.",questions:[{id:"first_feeling",text:"What's the first movie that ever made you feel something?",helpText:"Cry, scream, gasp, any emotion counts. Do you remember why?",type:"textarea",placeholder:"e.g. Bambi (shock + grief), E.T. (ugly cry)...",inspoPopup:"Bambi - that sceneâ€¦, Matilda - discovering her powers, Cinema Paradiso - the kiss reel, E.T. - Elliot says goodbye (ouch, ugly cry), Romeo + Juliet (1996) - fish tank scene, Call Me By Your Name - final fireplace shot, Billy Elliot - dancing it out"},{id:"life_changing",text:"What movie changed your life or meant everything at some point?",helpText:"We're tracking your fate film. Turning point? Breakup comfort?",type:"textarea",placeholder:"Tell us what hit you and why...",inspoPopup:`It couldâ€™ve been a turning point, a comfort during a breakup, or a story that mirrored your own. A plot twist that mirrored your own? We donâ€™t care if itâ€™s a cult classic, or Oscar-winnerâ€¦ tell us what hit you and why.

â€¢ After watching The Men Who Stare at Goats, I felt powerful in the job I hated. It gave me a weirdly magical way to survive corporate life. I started using Jedi mind tricks at meetings.
â€¢ The Darjeeling Limited: booking a solo trip, spiritual reset
â€¢ When I saw The Other Woman, I actually gave my relationship another shot. It reminded me that real life is messy and sometimes the grass isn't greener.
â€¢ Billy Elliot: realizing I didn't have to follow someone elseâ€™s path.
â€¢ Everything Everywhere Al At Once, I finally forgave my mom. And myself.`},{id:"comfort_watch",text:"Your Ultimate Comfort Watch?",helpText:"(Movie or TV show)",type:"text",inspoPopup:`Think: Rainy Sundays, heartbreak nights, post-party comedown, or nostalgic resets.
(Here are a few examples, but your vibe might be totally different: Gilmore Girls, Good Will Hunting, Shrek, Friends, The Office, The Holiday, Pretty Woman, Iron Man)`},{id:"power_watch",text:"What movie do you rewatch when you want to feel powerful?",type:"text",inspoPopup:"Here are a few examples, but your vibe might be totally different: Kill Bill, Black Swan, Erin Brockovich, Rocky, The Devil Wears Prada, Creed, Mad Max: Fury Road, Black Panther, The Favourite, The Matrix, Jennifer's Body, Everything Everywhere All at Once)"},{id:"date_impress",text:"What movie do you drop to impress a date / crush / dinner guest?",type:"text"}]},{id:"section-v",title:"Cosmic Worldbuilding & Desire",subtitle:"Vibe, villains, universes & cravings.",questions:[{id:"movie_universe",text:"If you could live inside any movie universe... which one(s) would you pick?",type:"checkbox",options:[{value:"magical",label:"Magical worlds (Harry Potter, LOTR)"},{value:"scifi",label:"Sci-Fi realms (Blade Runner, Star Wars)"},{value:"aesthetic",label:"Aesthetic dreamlands (Barbie, Wes Anderson)"},{value:"romantic",label:"Romantic escapes (Call Me by Your Name)"},{value:"dystopia",label:"Futuristic dystopias (Her, Gattaca)"},{value:"surreal",label:"Trippy surrealism (Spirited Away, Inception)"},{value:"melancholia",label:"Cool melancholia (Lost in Translation)"},{value:"nature",label:"Nature & nostalgia (Totoro, Little Women)"},{value:"glamour",label:"Theatre and glamour (Moulin Rouge, Cabaret)"},{value:"thrilling",label:"Dangerously thrilling (John Wick, Kill Bill)"},{value:"old_world",label:"Old world elegance (The Age of Innocence, A Room with a View)"},{value:"gothic",label:"Gothic and strange (Pan's Labyrinth)"},{value:"other",label:"Other"}]},{id:"villain_relate",text:"Which villain do you secretly relate to? And... why?",helpText:"Who's your inner anti-hero?",type:"textarea",placeholder:"e.g. Amy Dunne, Patrick Bateman, Scar...",inspoPopup:`Misunderstood icons or just honest about their darkness?

â€¢ Miranda Priestly (The Devil Wears Prada) - I've worked my ass oï¬€ to get where I am.
â€¢ Patrick Bateman (American Psycho) - Skincare, perfection, & clean aesthetics.
â€¢ Tom Ripley (The Talented Mr. Ripley) - Outsider energy, wanting in.
â€¢ Catherine Tramell (Basic Instinct) - Brilliant, unreadable, fully in control.
â€¢ Scar (The Lion King) - Overlooked sibling plotting a comeback.
â€¢ Hannibal Lecter (Silence of the Lambs) - Disturbing genius with impeccable manners.`},{id:"forever_crush",text:"Who's your forever on-screen crush?",helpText:"From first movie crush to current obsession.",type:"textarea",inspoPopup:`Who's lived rent-free in your cinematic heart?
Cartoons count. Accidental awakenings count. One name or a chaotic timeline, both valid.
Give us the timeline of your taste evolution.

(Here are a few examples, but your vibe might be totally different: Salma Hayek in Desperado, Ewan McGregor in Moulin Rouge, River Phoenix in My Own Private Idaho, Michelle Pfeiffer in Batman Returns, Al Pacino in Dog Day Afternoon, Lola Bunny in Space Jam, Jude Law in The Talented Mr. Ripley, Tilda Swinton in Orlando, Sharon Stone in Basic Instinct, Angela Bassett in Strange Days, Monica Bellucci in anything)`},{id:"crave_most",text:"What do you crave most in a movie?",type:"checkbox",options:[{value:"emotional",label:"ðŸ¥€ Soft, sad & deeply felt"},{value:"tension",label:"âš¡ High stakes & tension (suspense, danger, edge-of-seat energy)"},{value:"chaos",label:"ðŸŒªï¸ Emotional chaos & catharsis (rage, release, revenge acts)"},{value:"clever",label:"ðŸ§© Clever & conceptual (symbolism, sharp dialogue, plot twists)"},{value:"structure",label:"ðŸ“ Satisfying structure (I care about the plot)"},{value:"poetic",label:"ðŸŒŒ Philosophical & poetic (existential & reflective)"},{value:"political_social",label:"âœŠ Politically conscious, socially relevant"},{value:"depth",label:"ðŸ§¿ Characters with depth (inner worlds & transformation)"},{value:"performance",label:"ðŸŽ­ Haunting performances"},{value:"chemistry",label:"ðŸ· Sexy, slow chemistry (glances > gestures > tension)"},{value:"stylish",label:"âœ¨ Cool & stylish (mood, music, fashion)"},{value:"escapism",label:"ðŸ§¸ Wholesome escapism (comfort, nostalgia & happy endings)"},{value:"immersive",label:"ðŸ° Immersive Worlds (I want to live inside)"},{value:"fun",label:"ðŸ¿ Fun, clever & quotable (rewatch energy)"},{value:"trippy",label:"ðŸ„ Weird & trippy (surrealism is truth)"},{value:"dark",label:"ðŸŒ‘ Dark & seductive (noir, danger, desire)"},{value:"crime",label:"ðŸ’° Crime, hustle & heist"},{value:"adrenaline",label:"ðŸ’¥ Pure adrenaline (chase scenes, explosions, velocity)"},{value:"not_basic",label:"ðŸ’Ž Whatever makes my life feel less basic for 90 minutes"},{value:"other",label:"âœ¨ Other"}]}]},{id:"section-vi",title:"Screen Education: What Trained Your Taste",subtitle:"You're nearly at the final reel.",questions:[{id:"tv_taste",text:"TV Taste Check: Pick the flavours that feed your soul.",type:"checkbox",options:[{value:"prestige",label:"Slow-burn prestige (long arcs, power, HBO-core)"},{value:"dark_drama",label:"Dark Drama (crime, revenge, moral mess)"},{value:"reality",label:"Reality chaos (Love Island, Housewives, Kardashians)"},{value:"comedy",label:"Comfort comedy (sitcoms, rewatch therapy)"},{value:"talk_shows",label:"Talk shows & panel shows (late night, interviews, comedians)"},{value:"animated",label:"Animated brilliance (BoJack, anime, adult animation)"},{value:"limited",label:"Limited series / anthologies (intense contained stories)"},{value:"retro",label:"Retro magic (Twin Peaks, Golden Girls, 90s teen shows)"},{value:"scifi_fantasy",label:"Sci-fi & fantasy worlds (myth & alternate realties)"},{value:"documentaries",label:"Documentaries & real stories (true crime, pop culture, sport)"},{value:"factual",label:"Factual entertainment & curiosity TV (Discovery, Nat Geo, science, nature)"},{value:"cooking",label:"Cooking & food shows"},{value:"sports",label:"Sports Competitions (matches, leagues, tournaments)"},{value:"talent",label:"Talent & performance shows (singing, dancing)"},{value:"lifestyle",label:"Lifestyle & background TV"},{value:"movie_only",label:"Iâ€™m movie-only. TV isnâ€™t really my thing"},{value:"avoid_series",label:"I avoid series, I get addicted ðŸ˜…"},{value:"other",label:"Other"}]},{id:"fav_tv",text:"What's your all-time favourite TV show?",type:"text"},{id:"cinematography",text:"How important is cinematography?",type:"radio",options:[{value:"obsessed",label:"Obsessed. I pause scenes to admire lighting."},{value:"nice",label:"Nice to have, but not a dealbreaker"},{value:"palette",label:"Only if it has a colour palette worth mood-boarding"},{value:"skip",label:"I skip to the dialogue"},{value:"other",label:"Other"}]},{id:"directors",text:"Do you care about directing styles?",type:"checkbox",helpText:"Pick up to 5.",options:[{value:"header_modern",label:"MODERN ICONS & CROWD PLEASERS",isHeader:!0},{value:"gerwig",label:"Greta Gerwig",examples:"Lady Bird, Barbie, Little Women"},{value:"peele",label:"Jordan Peele",examples:"Get Out, Us, Nope"},{value:"spielberg",label:"Steven Spielberg",examples:"E.T., Jurassic Park, Schindlerâ€™s List, Jaws"},{value:"tarantino",label:"Quentin Tarantino",examples:"Pulp Fiction, Kill Bill, Inglorious Basterds"},{value:"pta",label:"Paul Thomas Anderson",examples:"One Battle After Another, Boogie Nights, There Will Be Blood"},{value:"daniels",label:"The Daniels (Daniel Kwan & Daniel Scheinert)",examples:"Everything Everywhere All At Once, Swiss Army Man"},{value:"nolan",label:"Christopher Nolan",examples:"Inception, Interstellar, Oppenheimer, The Dark Knight"},{value:"fennell",label:"Emerald Fennell",examples:"Wuthering Heights, Promising Young Woman, Saltburn"},{value:"lucas",label:"George Lucas",examples:"Star Wars, THX 1138, American Graffiti"},{value:"jackson",label:"Peter Jackson",examples:"The Lord of the Rings, Heavenly Creatures, King Kong"},{value:"howard",label:"Ron Howard",examples:"A Beautiful Mind, Rush, Frost/Nixon, Apollo 13"},{value:"cameron",label:"James Cameron",examples:"Titanic, Terminator, Avatar"},{value:"phillips",label:"Todd Phillips",examples:"The Hangover, Joker, War Dogs"},{value:"scott",label:"Ridley Scott",examples:"Alien, Gladiator, Thelma & Louise"},{value:"boyle",label:"Danny Boyle",examples:"Trainspotting, Slumdog Millionaire, 28 Days Later"},{value:"miyazaki",label:"Hayao Miyazaki",examples:"Spirited Away, My Neighbor Totoro, Princess Mononoke"},{value:"bong_joon_ho",label:"Bong Joon-ho",examples:"Parasite, Snowpiercer, Memories of Murder"},{value:"hughes",label:"John Hughes",examples:"The Breakfast Club, Ferris Buellerâ€™s Day Off, Pretty in Pink"},{value:"header_grit",label:"GRIT, CRIME & INTENSITY",isHeader:!0},{value:"spike_lee",label:"Spike Lee",examples:"Do the Right Thing, Malcolm X, BlacKkKlansman"},{value:"larry_clark",label:"Larry Clark",examples:"Kids, Bully, Ken Park"},{value:"adrian_lyne",label:"Adrian Lyne",examples:"Fatal Attraction, 9Â½ Weeks, Unfaithful"},{value:"scorsese",label:"Martin Scorsese",examples:"Goodfellas, Taxi Driver, The Wolf of Wall Street"},{value:"de_palma",label:"Brian De Palma",examples:"Carrie, Scarface, Blow Out"},{value:"safdie",label:"Safdie Brothers",examples:"Uncut Gems, Good Time"},{value:"coen_bros",label:"Coen Brothers",examples:"Fargo, No Country for Old Men, The Big Lebowski"},{value:"eastwood",label:"Clint Eastwood",examples:"Million Dollar Baby, Gran Torino, American Sniper"},{value:"fincher",label:"David Fincher",examples:"Fight Club, The Social Network, Gone Girl"},{value:"meirelles",label:"Fernando Meirelles",examples:"City of God, The Constant Gardener, Blindness"},{value:"mann",label:"Michael Mann",examples:"Heat, Collateral, The Insider"},{value:"mangold",label:"James Mangold",examples:"Walk the Line, Logan, Ford v Ferrari"},{value:"mcqueen",label:"Steve McQueen",examples:"Shame, 12 Years a Slave, Widows"},{value:"ritchie",label:"Guy Ritchie",examples:"Snatch, Lock, Stock and Two Smoking Barrels, The Gentlemen"},{value:"audiard",label:"Jacques Audiard",examples:"A Prophet, Rust and Bone, Dheepan"},{value:"header_dark",label:"DARK, SURREAL & MIND-BENDING",isHeader:!0},{value:"lynch",label:"David Lynch",examples:"Mulholland Drive, Blue Velvet, Eraserhead"},{value:"kubrick",label:"Stanley Kubrick",examples:"2001: A Space Odyssey, The Shining, A Clockwork Orange"},{value:"jonze",label:"Spike Jonze",examples:"Her, Being John Malkovich, Adaptation"},{value:"inarritu",label:"Alejandro GonzÃ¡lez IÃ±Ã¡rritu",examples:"Birdman, Babel, Amores Perros, The Revenant"},{value:"glazer",label:"Jonathan Glazer",examples:"Under the Skin, Sexy Beast, The Zone of Interest"},{value:"ostlund",label:"Ruben Ã–stlund",examples:"Triangle of Sadness, Force Majeure, The Square"},{value:"villeneuve",label:"Denis Villeneuve",examples:"Arrival, Blade Runner 2049, Dune, Prisoners"},{value:"argento",label:"Dario Argento",examples:"Suspiria, Deep Red, Inferno"},{value:"lanthimos",label:"Yorgos Lanthimos",examples:"Poor Things, Kinds Of Kindness, The Lobster"},{value:"noe",label:"Gaspar NoÃ©",examples:"Enter the Void, Climax, LOVE, Irreversible"},{value:"von_trier",label:"Lars von Trier",examples:"Melancholia, Dancer in the Dark, Antichrist"},{value:"tarkovsky",label:"Andrei Tarkovsky",examples:"Stalker, Solaris, The Mirror"},{value:"haneke",label:"Michael Haneke",examples:"Amour, Funny Games, CachÃ©"},{value:"seidl",label:"Ulrich Seidl",examples:"Paradise: Love, Rimini, Safari"},{value:"park_chan_wook",label:"Park Chan-wook",examples:"Oldboy, The Handmaiden, Decision to Leave"},{value:"oshima",label:"Nagisa Oshima",examples:"In the Realm of the Senses, Merry Christmas Mr. Lawrence, Death by Hanging"},{value:"weerasethakul",label:"Apichatpong Weerasethakul",examples:"Uncle Boonmee Who Can Recall His Past Lives, Memoria, Tropical Malady"},{value:"header_stylized",label:"STYLIZED VIBES & AESTHETICS",isHeader:!0},{value:"coppola_s",label:"Sofia Coppola",examples:"Lost in Translation, Marie Antoinette, The Virgin Suicides"},{value:"wes_anderson",label:"Wes Anderson",examples:"The Royal Tenenbaums, Moonrise Kingdom, The Grand Budapest Hotel"},{value:"korine",label:"Harmony Korine",examples:"Beach Bum, Spring Breakers, Trash Humpers"},{value:"burton",label:"Tim Burton",examples:"Edward Scissorhands, Beetlejuice, Nightmare Before Christmas"},{value:"schnabel",label:"Julian Schnabel",examples:"The Diving Bell and the Butterfly, Basquiat, Before Night Falls"},{value:"sorrentino",label:"Paolo Sorrentino",examples:"The Great Beauty, Youth, The Hand of God"},{value:"cuaron",label:"Alfonso CuarÃ³n",examples:"Roma, Gravity, Y Tu MamÃ¡ TambiÃ©n"},{value:"waters",label:"John Waters",examples:"Pink Flamingos, Hairspray, Female Trouble"},{value:"marshall",label:"Rob Marshall",examples:"Chicago, Memoirs of a Geisha, Into the Woods"},{value:"roeg",label:"Nicolas Roeg",examples:"Donâ€™t Look Now, The Man Who Fell to Earth, Walkabout"},{value:"song",label:"CÃ©line Song",examples:"Materialists, Past Lives"},{value:"wells",label:"Charlotte Wells",examples:"Aftersun, Tuesday, Laps"},{value:"rohrwacher",label:"Alice Rohrwacher",examples:"La Chimera, Happy as Lazzaro, The Wonders"},{value:"potter",label:"Sally Potter",examples:"Orlando, The Tango Lesson, Ginger & Rosa"},{value:"julien",label:"Isaac Julien",examples:"Looking for Langston, Young Soul Rebels, Lessons of the Hour"},{value:"russell",label:"Ken Russell",examples:"Women in Love, The Devils, Tommy"},{value:"almodovar",label:"Pedro AlmodÃ³var",examples:"All About My Mother, Talk to Her, Pain and Glory"},{value:"guadagnino",label:"Luca Guadagnino",examples:"Call Me By Your Name, Challengers, I Am Love, Bones and All"},{value:"denis",label:"Claire Denis",examples:"Beau Travail, High Life, Trouble Every Day"},{value:"beineix",label:"Jean-Jacques Beineix",examples:"Diva, Betty Blue, The Moon in the Gutter"},{value:"greenaway",label:"Peter Greenaway",examples:"The Cook, the Thief, His Wife & Her Lover, Prosperoâ€™s Books, A Zed & Two Noughts"},{value:"yimou",label:"Zhang Yimou",examples:"Raise the Red Lantern, Hero, House of Flying Daggers"},{value:"wong_kar_wai",label:"Wong Kar-wai",examples:"In the Mood for Love, Chungking Express, Happy Together"},{value:"header_humanist",label:"HUMANIST, INDIE & EMOTIONAL",isHeader:!0},{value:"jenkins",label:"Barry Jenkins",examples:"Moonlight, If Beale Street Could Talk"},{value:"trier",label:"Joachim Trier",examples:"The Worst Person in the World, Sentimental Value, Oslo"},{value:"nichols",label:"Mike Nichols",examples:"The Graduate, Whoâ€™s Afraid of Virginia Woolf?, Working Girl"},{value:"van_sant",label:"Gus Van Sant",examples:"Good Will Hunting, My Own Private Idaho, Elephant"},{value:"cassavetes",label:"John Cassavetes",examples:"Woman Under the Influence, Faces, Opening Night"},{value:"allen",label:"Woody Allen",examples:"Annie Hall, Manhattan, Midnight in Paris"},{value:"baumbach",label:"Noah Baumbach",examples:"Marriage Story, Frances Ha, Jay Kelly, The Squid and the Whale"},{value:"salles",label:"Walter Salles",examples:"I'm still here, Central Station, The Motorcycle Diaries, On the Road"},{value:"zhao",label:"ChloÃ© Zhao",examples:"Nomadland, The Rider, Eternals"},{value:"linklater",label:"Richard Linklater",examples:"Before Sunrise trilogy, Dazed and Confused, Boyhood"},{value:"baker",label:"Sean Baker",examples:"Anora, The Florida Project, Red Rocket, Tangerine"},{value:"duvernay",label:"Ava DuVernay",examples:"Selma, 13th, When They See Us"},{value:"triet",label:"Justine Triet",examples:"Sibyl, Anatomy of a Fall, Victoria"},{value:"meyers",label:"Nancy Meyers",examples:"The Holiday, Somethingâ€™s Gotta Give, Itâ€™s Complicated, Nancy Meyers"},{value:"heckerling",label:"Amy Heckerling",examples:"Clueless, Fast Times at Ridgemont High, Look Whoâ€™s Talking"},{value:"daldry",label:"Stephen Daldry",examples:"The Hours, Billy Elliot, The Reader"},{value:"arnold",label:"Andrea Arnold",examples:"Fish Tank, American Honey, Wasp"},{value:"loach",label:"Ken Loach",examples:"I, Daniel Blake, The Wind That Shakes the Barley, Sorry We Missed You"},{value:"haigh",label:"Andrew Haigh",examples:"Weekend, 45 Years, All of Us Strangers"},{value:"leigh",label:"Mike Leigh",examples:"Secrets & Lies, Vera Drake, Another Year"},{value:"ramsay",label:"Lynne Ramsay",examples:"We Need to Talk About Kevin, You Were Never Really Here, Ratcatcher"},{value:"sciamma",label:"CÃ©line Sciamma",examples:"Portrait of a Lady on Fire, Girlhood, Petite Maman"},{value:"varda",label:"AgnÃ¨s Varda",examples:"ClÃ©o from 5 to 7, Vagabond, The Gleaners and I"},{value:"wenders",label:"Wim Wenders",examples:"Paris, Texas, Wings of Desire, Buena Vista Social Club"},{value:"ade",label:"Maren Ade",examples:"Toni Erdmann, Everyone Else, The Forest for the Trees"},{value:"kechiche",label:"Abdellatif Kechiche",examples:"Blue Is the Warmest Colour, The Secret of the Grain, Games of Love and Chance"},{value:"ozpetek",label:"Ferzan Ã–zpetek",examples:"Nuovo Olimpo, Naples in Veils, Diamonds"},{value:"header_legends",label:"THE LEGENDS & CLASSICS",isHeader:!0},{value:"welles",label:"Orson Welles",examples:"Citizen Kane, Touch of Evil, The Magnificent Ambersons"},{value:"bergman",label:"Ingmar Bergman",examples:"The Seventh Seal, Persona, Scenes from a Marriage"},{value:"hitchcock",label:"Alfred Hitchcock",examples:"Psycho, Vertigo, Rear Window, North by Northwest"},{value:"leone",label:"Sergio Leone",examples:"The Good, the Bad and the Ugly, Once Upon a Time in the West"},{value:"ford",label:"John Ford",examples:"The Searchers, Stagecoach, The Grapes of Wrath"},{value:"hawks",label:"Howard Hawks",examples:"His Girl Friday, Rio Bravo, Bringing Up Baby"},{value:"lumet",label:"Sidney Lumet",examples:"12 Angry Men, Dog Day Afternoon, Network"},{value:"reed",label:"Carol Reed",examples:"The Third Man, Oliver!, Odd Man Out"},{value:"antonioni",label:"Michelangelo Antonioni",examples:"Lâ€™Avventura, Blow-Up, The Passenger"},{value:"coppola_ff",label:"Francis Ford Coppola",examples:"The Godfather trilogy, Apocalypse Now, The Conversation"},{value:"bertolucci",label:"Bernardo Bertolucci",examples:"The Conformist, Last Tango in Paris, The Dreamers"},{value:"lean",label:"David Lean",examples:"Lawrence of Arabia, Doctor Zhivago, The Bridge on the River Kwai"},{value:"fellini",label:"Federico Fellini",examples:"La Dolce Vita, 8Â½, Amarcord"},{value:"rossellini",label:"Roberto Rossellini",examples:"Rome, Open City, Journey to Italy"},{value:"truffaut",label:"FranÃ§ois Truffaut",examples:"The 400 Blows, Jules and Jim, Day for Night"},{value:"malle",label:"Louis Malle",examples:"Au Revoir les Enfants, Elevator to the Gallows, Atlantic City"},{value:"pasolini",label:"Pier Paolo Pasolini",examples:"The Gospel According to St. Matthew, SalÃ², Teorema"},{value:"mizoguchi",label:"Kenji Mizoguchi",examples:"Ugetsu, Sansho the Bailiff, Street of Shame"},{value:"ozu",label:"Yasujiro Ozu",examples:"Tokyo Story, Late Spring, An Autumn Afternoon"},{value:"pollack",label:"Sydney Pollack",examples:"Out of Africa, Tootsie, The Way We Were"},{value:"header_special",label:"SPECIAL",isHeader:!0},{value:"none",label:"I don't know any directors and I don't careâ€¦lol"},{value:"other",label:"Did we miss a favourite? Drop their names here."}]},{id:"access_growing_up",text:"How did you mostly access movies growing up?",type:"checkbox",options:[{value:"blockbuster",label:"Blockbuster / VHS"},{value:"cinema",label:"Cinema / festivals"},{value:"tv",label:"TV & cable classics"},{value:"streaming",label:"Streaming-only (Netflix era)"},{value:"pirate",label:"Pirate passion (Studying via downloads)"},{value:"mentor",label:"Film school or family curation"},{value:"religious",label:"Religious / censored media only"},{value:"late",label:"I discovered film late"},{value:"rare",label:"Rare occasions only"},{value:"other",label:"Other"}]}]},{id:"section-vii",title:"Genres & Turn-offs",subtitle:"Genres you love. Red flags you avoid.",questions:[{id:"genres_love",text:"Genres you never get sick of ðŸ¿:",type:"checkbox",options:[{value:"romance",label:"Romance & Rom-Coms"},{value:"drama",label:"Drama/Emotional Stories"},{value:"comedy",label:"Comedy (light or dark)"},{value:"action",label:"Action/ Adventure"},{value:"thriller",label:"Thrillers & Suspense"},{value:"horror",label:"Horror (from elevated to slasher)"},{value:"scifi_fantasy",label:"Sci-Fi, Fantasy & Myth"},{value:"indie",label:"Indie, Arthouse & Cult"},{value:"musical",label:"Music, Dance & Performance"},{value:"sports",label:"Sports & Underdog Stories"},{value:"biopic",label:"Biopics & True Stories"},{value:"documentary",label:"Documentary & Real Life Stories"},{value:"queer",label:"Queer Cinema & LGBTQ+ Stories"},{value:"historical",label:"Historical & Period"},{value:"trash_reality",label:"Trash TV/ Reality Gold"},{value:"classics",label:"Classics & Black&White"},{value:"westerns",label:"Westerns & Frontier Epics"},{value:"genre_fluid",label:"Iâ€™m genre-fluid"},{value:"other",label:"Other"}]},{id:"turn_offs",text:"What do you NOT vibe with on screen? ðŸš©",type:"checkbox",options:[{value:"sad",label:"No sad endings, please. Life is hard enough."},{value:"romcom_cringe",label:"Rom-com sceptic. I'm a realist."},{value:"scary",label:"I don't do scary."},{value:"sexual",label:"Too steamy. Here for plot not pelvis."},{value:"gore",label:"Excessive gore or violence. Iâ€™m out."},{value:"snobbery",label:"Prestige snobbery. Award-bait that takes life too seriously."},{value:"no_romance",label:"No romance, at all. I need at least one make-out scene."},{value:"scifi_fantasy",label:"Sci-fi / fantasy. Not my universe."},{value:"weird_sex",label:"Erotic + weird. Not trying to relive a fever dream from a Berlin sex club."},{value:"clowns",label:"Clowns, absolutely not. Not even in an arthouse film."},{value:"reality_tv",label:"Love Island, Housewives, Kardashians, hard pass. I want film, not filler."},{value:"subtitles",label:"Subtitles. If itâ€™s not in my language, Iâ€™m unlikely to watch it."},{value:"marvel",label:"I don't do Marvel. Not catching that cultural virus."},{value:"creepy_dolls",label:"Creepy kids or haunted toys. Demons, dolls, no thanks."},{value:"other",label:"Other"}]},{id:"hated_film",text:"What's a film everyone else loved... but you hated? Tell us why.",type:"textarea",inspoPopup:`Think: the Oscar darling that bored you. The Netflix smash that felt soulless. The cult classic you found cringe.
Below are sample confessions to spark your vibe: feel free to riff, roast, or reveal:

â€¢ Titanic â€” I rooted for the iceberg.
â€¢ Everything Everywhere All at Once â€” â€œIt felt like watching 15 TikToks at once during a panic attack. I respect the ambition but it lost me somewhere between hot dog fingers and multiverse taxes.â€
â€¢ Elvis (Baz Luhrmann) â€” â€œFelt like watching a Vegas slot machine explode for 2.5 hours. Austin Butler did great, but Baz directed like he had 12 Red Bulls and no editor.â€
â€¢ Avatar (all of them) â€” â€œIt's just blue Pocahontas with fancier trees. Stunning visuals, sure, but 3D glasses couldn't save that plot from being aggressively â€˜meh.'â€
â€¢ Emilia PÃ©rez â€” I didn't know if I was watching an opera, a telenovela, or a Eurovision fever dream.
â€¢ La La Land â€” BlaBla Land`,placeholder:"e.g. Titanic, Everything Everywhere All at Once, Avatar..."},{id:"hype_style",text:"Hype Tracker or Timeless Watcher?",helpText:"How do you dance with hype, buzz, and cult classics?",type:"radio",options:[{value:"drops",label:"I watch everything the moment it drops."},{value:"resist",label:"I resist it until it really blows up"},{value:"crush",label:"Only if my crush is in it"},{value:"pretend",label:"I pretend not to care, but I watch everything"},{value:"wait",label:"I wait 5 years and watch it when no one cares"},{value:"cult",label:"Cult Classics over hype, always"},{value:"rare",label:"I like rare finds no one's heard of"},{value:"right_time",label:"The right movie finds me when I need it, not when it's trending"},{value:"both",label:"Honestly? Both. If it hits, it hits."}]}]},{id:"section-swipe",title:"Swipe Right on Your Movie Mirror",subtitle:"Who's the character you see yourself in?",questions:[{id:"character_match",text:"Whoâ€™s your movie mirror? The character that feels uncomfortablyâ€¦ you.",helpText:`Your vibe twin. Alter ego. The one people say you remind them of, or the one whoâ€™d absolutely play you in a film.
(No thinking too hard. First instinct counts.)
Add up to 3 characters, icons, alter egos.
Being one thing is overrated.`,type:"text",uiType:"multi_entry",maxEntries:3,inspoPopup:`Examples for Inspo:

â€¢ Fleabag (messy icon energy)
â€¢ Amelie (whimsical dreamer)
â€¢ Kim Kardashian (proof you can rebrand anything)
â€¢ Robert De Niro - Taxi Driver (brooding outsider)
â€¢ Dustin Hoffman - The Graduate (confused soft boy)
â€¢ Mr.T (chaotic protector)
â€¢ Jane Fonda (feminist fire)
â€¢ Jules - Euphoria (ethereal)
â€¢ David Bowie (genderless cosmic alien)
â€¢ Tony Soprano (misunderstood leader)
â€¢ Grace Jones (futuristic icon)
â€¢ Wednesday Addams (deadpan legend)

Donâ€™t know the name? Describe the vibe, weâ€™ll get it.`}]},{id:"section-viii",title:"Global Culture",subtitle:"Subtitles? Prestige?",questions:[{id:"foreign_films",text:"How do you feel about foreign films & shows?",type:"radio",options:[{value:"love",label:"Yes, I live for subtitles"},{value:"sometimes",label:"Sometimes"},{value:"not_really",label:"Not really"},{value:"lush",label:"They're visually lush/beautiful"},{value:"demanding",label:"Subtitles demand full attention (can't multitask)"},{value:"dubbed",label:"As long as it's dubbed, I'm fine"},{value:"other",label:"Other"}]}]},{id:"section-ix",title:"FateFlix Fit & Feedback",subtitle:"Mood, recommendations, and future app features.",questions:[{id:"selection_method",text:"In a minefield of content... how do you actually choose your next movie or show?",type:"checkbox",options:[{value:"scroll",label:"I scroll until something clicks (Netflix/Prime/MUBI/AppleTV)"},{value:"notes",label:"Chaotic Notes app lists"},{value:"people",label:"I follow people, not lists (actors, directors, crushes)"},{value:"google",label:"Google it (search or ratings)"},{value:"reviews",label:"Ratings & reviews (Letterboxd, IMDb, Rotten Tomatoes, Reddit, Metacritic)"},{value:"top10",label:"I trust whatâ€™s trending (Top 10)"},{value:"friend",label:"I ask my film friend"},{value:"vibes",label:"I choose by mood or aesthetic"},{value:"comfort",label:"Comfort rewatch (decision successfully avoided)"},{value:"fatigue",label:"Decision fatigue is real. Just pick for me."},{value:"ai",label:"I ask AI"},{value:"unavailable",label:"Itâ€™s never on the platform Iâ€™m paying for."},{value:"trailer_spiral",label:"Trailer Spiral. Movie night becomes trailer night... again."},{value:"fateflix",label:"Just waiting for FateFlix to drop ðŸ˜Œ"},{value:"other",label:"Other"}]},{id:"discovery_apps",text:"Which of these apps do you actually use for movie discovery?",type:"checkbox",options:[{value:"letterboxd",label:"Letterboxd"},{value:"imdb",label:"IMDb"},{value:"rotten_tomatoes",label:"Rotten Tomatoes"},{value:"taste_io",label:"Taste.io"},{value:"social",label:"Social media (TikTok, Instagram, YouTube)"},{value:"upflix",label:"Upflix"},{value:"moviepal",label:"Moviepal"},{value:"justwatch",label:"JustWatch"},{value:"tv_time",label:"TV Time"},{value:"reelgood",label:"Reelgood"},{value:"metacritic",label:"Metacritic"},{value:"none",label:"None"},{value:"other",label:"Other"}]},{id:"share_qr",type:"qr_share",text:"Would you share this quiz with your friends?",subtitle:"Screenshot the QR code for your camera roll. Perfect for date nights, dinner parties, or flexing your movie taste on the group chat."},{id:"discovery",text:"How did you find out about this survey?",type:"radio",options:[{value:"friend",label:"A friend sent it to me"},{value:"founder",label:"Invited by a FateFlix founder"},{value:"online",label:"Stumbled upon it online"},{value:"school",label:"Film school / class"},{value:"event",label:"Public event or street moment"},{value:"cosmic",label:"Cosmic Calling"},{value:"other",label:"Other"}]},{id:"email",text:"We need your email to send your astro-cinematic gift.",helpText:"No spam, just stardust.",type:"email",placeholder:"user@example.com"},{id:"beta_test",text:"Would you like to beta test the Fateflix app once it's live?",type:"radio",options:[{value:"yes",label:"Yes, I need this"},{value:"no",label:"No, I gatekeep"}]},{id:"open_feedback",text:"Anything we should know?",helpText:`Got feedback on the survey, ideas for FateFlix, or something you wish existed in a movie app?
This is your moment. We read every response.`,type:"textarea",placeholder:"Thoughts, feedback, feature ideas, wild wishesâ€¦"},{id:"top3_films",text:"TOP 3 FILMS",type:"textarea",placeholder:`1.
2.
3.`},{id:"top3_series",text:"TOP 3 SERIES",type:"textarea",placeholder:`1.
2.
3.`},{id:"top3_docs",text:"TOP 3 DOCS",type:"textarea",placeholder:`1.
2.
3.`}]}],ke=N.createContext(void 0);function Ue(n,i){let s;return function(...d){const p=()=>{clearTimeout(s),n(...d)};clearTimeout(s),s=setTimeout(p,i)}}const $e=({children:n})=>{const[i,s]=N.useState(0),[u,d]=N.useState({}),[p,v]=N.useState(null),[g,e]=N.useState(null),[l,o]=N.useState(null);N.useRef({});const c=de.length,a=N.useCallback(async(b,x,w,T)=>{if(w&&!["date","time","latitude","longitude","city","country","username","time_accuracy"].includes(b)&&!(b==="top3_films"||b==="top3_series"||b==="top3_docs"))try{const _=await fetch("/api/survey/save-answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({submissionId:w,questionKey:b,answerValue:x,userEmail:T})});if(!_.ok){const M=await _.json().catch(()=>({error:"Unknown error"}));console.warn(`âš ï¸ Failed to save answer for ${b}:`,M)}}catch(k){console.warn(`âš ï¸ Error saving answer for ${b}:`,k.message)}},[]),h=N.useCallback(Ue((b,x,w,T)=>{a(b,x,w,T)},500),[a]),r=N.useCallback((b,x)=>{d(w=>{const T={...w,[b]:x};return p&&h(b,x,p,l),T})},[p,l,h]),y={currentStep:i,totalSteps:c,answers:u,setAnswer:r,nextStep:()=>{i<c-1&&s(b=>b+1)},prevStep:()=>{i>0&&s(b=>b-1)},currentSection:de[i],submissionId:p,setSubmissionId:v,chartId:g,setChartId:e,userEmail:l,setUserEmail:o};return t.jsx(ke.Provider,{value:y,children:n})},q=()=>{const n=N.useContext(ke);if(!n)throw new Error("useSurvey must be used within a SurveyProvider");return n};var Ce=De(),te={},$={},ae={exports:{}},le,he;function Ve(){if(he)return le;he=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return le=n,le}var re,me;function Je(){if(me)return re;me=1;var n=Ve();function i(){}function s(){}return s.resetWarningCache=i,re=function(){function u(v,g,e,l,o,c){if(c!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}u.isRequired=u;function d(){return u}var p={array:u,bigint:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:d,element:u,elementType:u,instanceOf:d,node:u,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:s,resetWarningCache:i};return p.PropTypes=p,p},re}var pe;function Ke(){return pe||(pe=1,ae.exports=Je()()),ae.exports}var X={},W={},fe;function Ye(){if(fe)return W;fe=1,Object.defineProperty(W,"__esModule",{value:!0}),W.loadGoogleMapScript=W.isBrowser=void 0;var n=typeof window<"u"&&window.document;W.isBrowser=n;var i=function(u,d){if(!n||typeof google<"u"&&google.maps&&google.maps.api)return Promise.resolve();var p=document.querySelectorAll('script[src*="'.concat(u,'"]'));if(p&&p.length)return new Promise(function(e){if(typeof google<"u")return e();p[0].addEventListener("load",function(){return e()})});var v=new URL(d);v.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var g=document.createElement("script");return g.src=v.toString(),new Promise(function(e){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=e,document.body.appendChild(g)})};return W.loadGoogleMapScript=i,W}var V={},ge;function Qe(){if(ge)return V;ge=1,Object.defineProperty(V,"__esModule",{value:!0}),V.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;var n="https://maps.googleapis.com/maps/api/js";return V.GOOGLE_MAP_SCRIPT_BASE_URL=n,V}var be;function Ne(){if(be)return X;be=1;function n(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(r){return typeof r}:n=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(a)}Object.defineProperty(X,"__esModule",{value:!0}),X.default=c;var i=p(Se()),s=Ye(),u=Qe();function d(a){if(typeof WeakMap!="function")return null;var h=new WeakMap,r=new WeakMap;return(d=function(f){return f?r:h})(a)}function p(a,h){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var r=d(h);if(r&&r.has(a))return r.get(a);var m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in a)if(y!=="default"&&Object.prototype.hasOwnProperty.call(a,y)){var b=f?Object.getOwnPropertyDescriptor(a,y):null;b&&(b.get||b.set)?Object.defineProperty(m,y,b):m[y]=a[y]}return m.default=a,r&&r.set(a,m),m}function v(a,h){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);h&&(m=m.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),r.push.apply(r,m)}return r}function g(a){for(var h=1;h<arguments.length;h++){var r=arguments[h]!=null?arguments[h]:{};h%2?v(Object(r),!0).forEach(function(m){e(a,m,r[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(r,m))})}return a}function e(a,h,r){return h in a?Object.defineProperty(a,h,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[h]=r,a}function l(a,h){if(a==null)return{};var r=o(a,h),m,f;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(a);for(f=0;f<y.length;f++)m=y[f],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(a,m)&&(r[m]=a[m])}return r}function o(a,h){if(a==null)return{};var r={},m=Object.keys(a),f,y;for(y=0;y<m.length;y++)f=m[y],!(h.indexOf(f)>=0)&&(r[f]=a[f]);return r}function c(a){var h=a.ref,r=a.onPlaceSelected,m=a.apiKey,f=a.libraries,y=f===void 0?"places":f,b=a.inputAutocompleteValue,x=b===void 0?"new-password":b,w=a.options;w=w===void 0?{}:w;var T=w.types,k=T===void 0?["(cities)"]:T,_=w.componentRestrictions,M=w.fields,j=M===void 0?["address_components","geometry.location","place_id","formatted_address"]:M,O=w.bounds,A=l(w,["types","componentRestrictions","fields","bounds"]),J=a.googleMapsScriptBaseUrl,D=J===void 0?u.GOOGLE_MAP_SCRIPT_BASE_URL:J,I=a.language,E=(0,i.useRef)(null),B=(0,i.useRef)(null),C=(0,i.useRef)(null),K=I?"&language=".concat(I):"",H="".concat(D,"?libraries=").concat(y,"&key=").concat(m).concat(K),Y=(0,i.useCallback)(function(){return(0,s.loadGoogleMapScript)(D,H)},[D,H]);return(0,i.useEffect)(function(){var L=g(g({},A),{},{fields:j,types:k,bounds:O});if(_&&(L.componentRestrictions=_),!(C.current||!E.current||!s.isBrowser)){h&&!h.current&&(h.current=E.current);var Q=function(){var G;if(typeof google>"u")return console.error("Google has not been found. Make sure your provide apiKey prop.");if(!((G=google.maps)!==null&&G!==void 0&&G.places))return console.error("Google maps places API must be loaded.");if(!(E.current instanceof HTMLInputElement))return console.error("Input ref must be HTMLInputElement.");C.current=new google.maps.places.Autocomplete(E.current,L),C.current&&(B.current=C.current.addListener("place_changed",function(){r&&C&&C.current&&r(C.current.getPlace(),E.current,C.current)}))};return m?Y().then(function(){return Q()}):Q(),function(){return B.current?B.current.remove():void 0}}},[]),(0,i.useEffect)(function(){return C.current&&r&&(B.current=C.current.addListener("place_changed",function(){r&&C&&C.current&&r(C.current.getPlace(),E.current,C.current)})),function(){return B.current?B.current.remove():void 0}},[r]),(0,i.useEffect)(function(){if(s.isBrowser&&window.MutationObserver&&E.current&&E.current instanceof HTMLInputElement){var L=new MutationObserver(function(){L.disconnect(),E.current&&(E.current.autocomplete=x)});return L.observe(E.current,{attributes:!0,attributeFilter:["autocomplete"]}),function(){L.disconnect()}}},[x]),(0,i.useEffect)(function(){C.current&&C.current.setFields(j)},[j]),(0,i.useEffect)(function(){C.current&&C.current.setBounds(O)},[O]),(0,i.useEffect)(function(){C.current&&C.current.setComponentRestrictions(_)},[_]),(0,i.useEffect)(function(){C.current&&C.current.setOptions(A)},[A]),{ref:E,autocompleteRef:C}}return X}var ve;function Xe(){if(ve)return $;ve=1;function n(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(r){return typeof r}:n=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(a)}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var i=v(Se()),s=d(Ke()),u=d(Ne());function d(a){return a&&a.__esModule?a:{default:a}}function p(a){if(typeof WeakMap!="function")return null;var h=new WeakMap,r=new WeakMap;return(p=function(f){return f?r:h})(a)}function v(a,h){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var r=p(h);if(r&&r.has(a))return r.get(a);var m={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in a)if(y!=="default"&&Object.prototype.hasOwnProperty.call(a,y)){var b=f?Object.getOwnPropertyDescriptor(a,y):null;b&&(b.get||b.set)?Object.defineProperty(m,y,b):m[y]=a[y]}return m.default=a,r&&r.set(a,m),m}function g(){return g=Object.assign||function(a){for(var h=1;h<arguments.length;h++){var r=arguments[h];for(var m in r)Object.prototype.hasOwnProperty.call(r,m)&&(a[m]=r[m])}return a},g.apply(this,arguments)}function e(a,h){if(a==null)return{};var r=l(a,h),m,f;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(a);for(f=0;f<y.length;f++)m=y[f],!(h.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(a,m)&&(r[m]=a[m])}return r}function l(a,h){if(a==null)return{};var r={},m=Object.keys(a),f,y;for(y=0;y<m.length;y++)f=m[y],!(h.indexOf(f)>=0)&&(r[f]=a[f]);return r}function o(a){var h=a.onPlaceSelected,r=a.apiKey,m=a.libraries,f=a.inputAutocompleteValue,y=a.options,b=a.googleMapsScriptBaseUrl,x=a.refProp,w=a.language,T=e(a,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),k=(0,u.default)({ref:x,googleMapsScriptBaseUrl:b,onPlaceSelected:h,apiKey:r,libraries:m,inputAutocompleteValue:f,options:y,language:w}),_=k.ref;return i.default.createElement("input",g({ref:_},T))}o.propTypes={apiKey:s.default.string,libraries:s.default.arrayOf(s.default.string),ref:s.default.oneOfType([s.default.func,s.default.shape({current:s.default.any})]),googleMapsScriptBaseUrl:s.default.string,onPlaceSelected:s.default.func,inputAutocompleteValue:s.default.string,options:s.default.shape({componentRestrictions:s.default.object,bounds:s.default.object,location:s.default.object,offset:s.default.number,origin:s.default.object,radius:s.default.number,sessionToken:s.default.object,types:s.default.arrayOf(s.default.string)}),language:s.default.string};var c=(0,i.forwardRef)(function(a,h){return i.default.createElement(o,g({},a,{refProp:h}))});return $.default=c,$}var xe;function Ze(){return xe||(xe=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"usePlacesWidget",{enumerable:!0,get:function(){return s.default}});var i=u(Xe()),s=u(Ne());function u(d){return d&&d.__esModule?d:{default:d}}})(te)),te}var oe,ye;function qe(){return ye||(ye=1,oe=Ze()),oe}var et=qe();const tt=Fe(et),at=({onLocationSelect:n})=>t.jsxs("div",{className:"w-full max-w-xl animate-slide-up space-y-8",children:[t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h2",{className:"text-3xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-white to-zinc-400",children:"Birth City"}),t.jsx("p",{className:"text-zinc-400 text-lg font-light tracking-wide",children:"Search for your birth place (we'll auto-calculate coordinates)"})]}),t.jsxs("div",{className:"relative group",children:[t.jsx(tt,{apiKey:"AIzaSyBMr-Wb6M8lYV-IUa3KydUad1KtiAKS-E8",onPlaceSelected:i=>{if(!i.geometry)return;const s=i.geometry.location.lat(),u=i.geometry.location.lng();let d="",p="";i.address_components.forEach(v=>{v.types.includes("locality")&&(d=v.long_name),v.types.includes("country")&&(p=v.long_name)}),!d&&i.formatted_address&&(d=i.formatted_address.split(",")[0]),n({city:d,country:p,lat:s,lng:u})},options:{types:["(cities)"]},className:"w-full bg-zinc-900/40 border border-white/5 rounded-xl p-5 text-xl text-white focus:border-cyan-400/50 focus:bg-zinc-800/40 outline-none transition-all duration-500 placeholder-zinc-600 backdrop-blur-md focus:shadow-[0_0_20px_rgba(34,211,238,0.05)]",placeholder:"Start typing city..."}),t.jsx("div",{className:"absolute right-5 top-5 text-zinc-600 pointer-events-none group-focus-within:text-cyan-400/50 transition-colors duration-500",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"11",cy:"11",r:"8"}),t.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})]});var lt=Object.defineProperty,Z=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,we=(n,i,s)=>i in n?lt(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s,ne=(n,i)=>{for(var s in i||(i={}))_e.call(i,s)&&we(n,s,i[s]);if(Z)for(var s of Z(i))Ee.call(i,s)&&we(n,s,i[s]);return n},ie=(n,i)=>{var s={};for(var u in n)_e.call(n,u)&&i.indexOf(u)<0&&(s[u]=n[u]);if(n!=null&&Z)for(var u of Z(n))i.indexOf(u)<0&&Ee.call(n,u)&&(s[u]=n[u]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var z;(n=>{const i=class S{constructor(e,l,o,c){if(this.version=e,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],e<S.MIN_VERSION||e>S.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=e*4+17;let a=[];for(let r=0;r<this.size;r++)a.push(!1);for(let r=0;r<this.size;r++)this.modules.push(a.slice()),this.isFunction.push(a.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(o);if(this.drawCodewords(h),c==-1){let r=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const f=this.getPenaltyScore();f<r&&(c=m,r=f),this.applyMask(m)}}d(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}static encodeText(e,l){const o=n.QrSegment.makeSegments(e);return S.encodeSegments(o,l)}static encodeBinary(e,l){const o=n.QrSegment.makeBytes(e);return S.encodeSegments([o],l)}static encodeSegments(e,l,o=1,c=40,a=-1,h=!0){if(!(S.MIN_VERSION<=o&&o<=c&&c<=S.MAX_VERSION)||a<-1||a>7)throw new RangeError("Invalid value");let r,m;for(r=o;;r++){const x=S.getNumDataCodewords(r,l)*8,w=v.getTotalBits(e,r);if(w<=x){m=w;break}if(r>=c)throw new RangeError("Data too long")}for(const x of[S.Ecc.MEDIUM,S.Ecc.QUARTILE,S.Ecc.HIGH])h&&m<=S.getNumDataCodewords(r,x)*8&&(l=x);let f=[];for(const x of e){s(x.mode.modeBits,4,f),s(x.numChars,x.mode.numCharCountBits(r),f);for(const w of x.getData())f.push(w)}d(f.length==m);const y=S.getNumDataCodewords(r,l)*8;d(f.length<=y),s(0,Math.min(4,y-f.length),f),s(0,(8-f.length%8)%8,f),d(f.length%8==0);for(let x=236;f.length<y;x^=253)s(x,8,f);let b=[];for(;b.length*8<f.length;)b.push(0);return f.forEach((x,w)=>b[w>>>3]|=x<<7-(w&7)),new S(r,l,b,a)}getModule(e,l){return 0<=e&&e<this.size&&0<=l&&l<this.size&&this.modules[l][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let o=0;o<this.size;o++)this.setFunctionModule(6,o,o%2==0),this.setFunctionModule(o,6,o%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),l=e.length;for(let o=0;o<l;o++)for(let c=0;c<l;c++)o==0&&c==0||o==0&&c==l-1||o==l-1&&c==0||this.drawAlignmentPattern(e[o],e[c]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const l=this.errorCorrectionLevel.formatBits<<3|e;let o=l;for(let a=0;a<10;a++)o=o<<1^(o>>>9)*1335;const c=(l<<10|o)^21522;d(c>>>15==0);for(let a=0;a<=5;a++)this.setFunctionModule(8,a,u(c,a));this.setFunctionModule(8,7,u(c,6)),this.setFunctionModule(8,8,u(c,7)),this.setFunctionModule(7,8,u(c,8));for(let a=9;a<15;a++)this.setFunctionModule(14-a,8,u(c,a));for(let a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,u(c,a));for(let a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,u(c,a));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let o=0;o<12;o++)e=e<<1^(e>>>11)*7973;const l=this.version<<12|e;d(l>>>18==0);for(let o=0;o<18;o++){const c=u(l,o),a=this.size-11+o%3,h=Math.floor(o/3);this.setFunctionModule(a,h,c),this.setFunctionModule(h,a,c)}}drawFinderPattern(e,l){for(let o=-4;o<=4;o++)for(let c=-4;c<=4;c++){const a=Math.max(Math.abs(c),Math.abs(o)),h=e+c,r=l+o;0<=h&&h<this.size&&0<=r&&r<this.size&&this.setFunctionModule(h,r,a!=2&&a!=4)}}drawAlignmentPattern(e,l){for(let o=-2;o<=2;o++)for(let c=-2;c<=2;c++)this.setFunctionModule(e+c,l+o,Math.max(Math.abs(c),Math.abs(o))!=1)}setFunctionModule(e,l,o){this.modules[l][e]=o,this.isFunction[l][e]=!0}addEccAndInterleave(e){const l=this.version,o=this.errorCorrectionLevel;if(e.length!=S.getNumDataCodewords(l,o))throw new RangeError("Invalid argument");const c=S.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][l],a=S.ECC_CODEWORDS_PER_BLOCK[o.ordinal][l],h=Math.floor(S.getNumRawDataModules(l)/8),r=c-h%c,m=Math.floor(h/c);let f=[];const y=S.reedSolomonComputeDivisor(a);for(let x=0,w=0;x<c;x++){let T=e.slice(w,w+m-a+(x<r?0:1));w+=T.length;const k=S.reedSolomonComputeRemainder(T,y);x<r&&T.push(0),f.push(T.concat(k))}let b=[];for(let x=0;x<f[0].length;x++)f.forEach((w,T)=>{(x!=m-a||T>=r)&&b.push(w[x])});return d(b.length==h),b}drawCodewords(e){if(e.length!=Math.floor(S.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let o=this.size-1;o>=1;o-=2){o==6&&(o=5);for(let c=0;c<this.size;c++)for(let a=0;a<2;a++){const h=o-a,m=(o+1&2)==0?this.size-1-c:c;!this.isFunction[m][h]&&l<e.length*8&&(this.modules[m][h]=u(e[l>>>3],7-(l&7)),l++)}}d(l==e.length*8)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let o=0;o<this.size;o++){let c;switch(e){case 0:c=(o+l)%2==0;break;case 1:c=l%2==0;break;case 2:c=o%3==0;break;case 3:c=(o+l)%3==0;break;case 4:c=(Math.floor(o/3)+Math.floor(l/2))%2==0;break;case 5:c=o*l%2+o*l%3==0;break;case 6:c=(o*l%2+o*l%3)%2==0;break;case 7:c=((o+l)%2+o*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][o]&&c&&(this.modules[l][o]=!this.modules[l][o])}}getPenaltyScore(){let e=0;for(let a=0;a<this.size;a++){let h=!1,r=0,m=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[a][f]==h?(r++,r==5?e+=S.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,m),h||(e+=this.finderPenaltyCountPatterns(m)*S.PENALTY_N3),h=this.modules[a][f],r=1);e+=this.finderPenaltyTerminateAndCount(h,r,m)*S.PENALTY_N3}for(let a=0;a<this.size;a++){let h=!1,r=0,m=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[f][a]==h?(r++,r==5?e+=S.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,m),h||(e+=this.finderPenaltyCountPatterns(m)*S.PENALTY_N3),h=this.modules[f][a],r=1);e+=this.finderPenaltyTerminateAndCount(h,r,m)*S.PENALTY_N3}for(let a=0;a<this.size-1;a++)for(let h=0;h<this.size-1;h++){const r=this.modules[a][h];r==this.modules[a][h+1]&&r==this.modules[a+1][h]&&r==this.modules[a+1][h+1]&&(e+=S.PENALTY_N2)}let l=0;for(const a of this.modules)l=a.reduce((h,r)=>h+(r?1:0),l);const o=this.size*this.size,c=Math.ceil(Math.abs(l*20-o*10)/o)-1;return d(0<=c&&c<=9),e+=c*S.PENALTY_N4,d(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{const e=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2;let o=[6];for(let c=this.size-7;o.length<e;c-=l)o.splice(1,0,c);return o}}static getNumRawDataModules(e){if(e<S.MIN_VERSION||e>S.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*e+128)*e+64;if(e>=2){const o=Math.floor(e/7)+2;l-=(25*o-10)*o-55,e>=7&&(l-=36)}return d(208<=l&&l<=29648),l}static getNumDataCodewords(e,l){return Math.floor(S.getNumRawDataModules(e)/8)-S.ECC_CODEWORDS_PER_BLOCK[l.ordinal][e]*S.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let l=[];for(let c=0;c<e-1;c++)l.push(0);l.push(1);let o=1;for(let c=0;c<e;c++){for(let a=0;a<l.length;a++)l[a]=S.reedSolomonMultiply(l[a],o),a+1<l.length&&(l[a]^=l[a+1]);o=S.reedSolomonMultiply(o,2)}return l}static reedSolomonComputeRemainder(e,l){let o=l.map(c=>0);for(const c of e){const a=c^o.shift();o.push(0),l.forEach((h,r)=>o[r]^=S.reedSolomonMultiply(h,a))}return o}static reedSolomonMultiply(e,l){if(e>>>8||l>>>8)throw new RangeError("Byte out of range");let o=0;for(let c=7;c>=0;c--)o=o<<1^(o>>>7)*285,o^=(l>>>c&1)*e;return d(o>>>8==0),o}finderPenaltyCountPatterns(e){const l=e[1];d(l<=this.size*3);const o=l>0&&e[2]==l&&e[3]==l*3&&e[4]==l&&e[5]==l;return(o&&e[0]>=l*4&&e[6]>=l?1:0)+(o&&e[6]>=l*4&&e[0]>=l?1:0)}finderPenaltyTerminateAndCount(e,l,o){return e&&(this.finderPenaltyAddHistory(l,o),l=0),l+=this.size,this.finderPenaltyAddHistory(l,o),this.finderPenaltyCountPatterns(o)}finderPenaltyAddHistory(e,l){l[0]==0&&(e+=this.size),l.pop(),l.unshift(e)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=i;function s(g,e,l){if(e<0||e>31||g>>>e)throw new RangeError("Value out of range");for(let o=e-1;o>=0;o--)l.push(g>>>o&1)}function u(g,e){return(g>>>e&1)!=0}function d(g){if(!g)throw new Error("Assertion error")}const p=class P{constructor(e,l,o){if(this.mode=e,this.numChars=l,this.bitData=o,l<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}static makeBytes(e){let l=[];for(const o of e)s(o,8,l);return new P(P.Mode.BYTE,e.length,l)}static makeNumeric(e){if(!P.isNumeric(e))throw new RangeError("String contains non-numeric characters");let l=[];for(let o=0;o<e.length;){const c=Math.min(e.length-o,3);s(parseInt(e.substring(o,o+c),10),c*3+1,l),o+=c}return new P(P.Mode.NUMERIC,e.length,l)}static makeAlphanumeric(e){if(!P.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],o;for(o=0;o+2<=e.length;o+=2){let c=P.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o))*45;c+=P.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o+1)),s(c,11,l)}return o<e.length&&s(P.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o)),6,l),new P(P.Mode.ALPHANUMERIC,e.length,l)}static makeSegments(e){return e==""?[]:P.isNumeric(e)?[P.makeNumeric(e)]:P.isAlphanumeric(e)?[P.makeAlphanumeric(e)]:[P.makeBytes(P.toUtf8ByteArray(e))]}static makeEci(e){let l=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)s(e,8,l);else if(e<16384)s(2,2,l),s(e,14,l);else if(e<1e6)s(6,3,l),s(e,21,l);else throw new RangeError("ECI assignment value out of range");return new P(P.Mode.ECI,0,l)}static isNumeric(e){return P.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return P.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,l){let o=0;for(const c of e){const a=c.mode.numCharCountBits(l);if(c.numChars>=1<<a)return 1/0;o+=4+a+c.bitData.length}return o}static toUtf8ByteArray(e){e=encodeURI(e);let l=[];for(let o=0;o<e.length;o++)e.charAt(o)!="%"?l.push(e.charCodeAt(o)):(l.push(parseInt(e.substring(o+1,o+3),16)),o+=2);return l}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let v=p;n.QrSegment=p})(z||(z={}));(n=>{(i=>{const s=class{constructor(d,p){this.ordinal=d,this.formatBits=p}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),i.Ecc=s})(n.QrCode||(n.QrCode={}))})(z||(z={}));(n=>{(i=>{const s=class{constructor(d,p){this.modeBits=d,this.numBitsCharCount=p}numCharCountBits(d){return this.numBitsCharCount[Math.floor((d+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s})(n.QrSegment||(n.QrSegment={}))})(z||(z={}));var F=z;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rt={L:F.QrCode.Ecc.LOW,M:F.QrCode.Ecc.MEDIUM,Q:F.QrCode.Ecc.QUARTILE,H:F.QrCode.Ecc.HIGH},Pe=128,Me="L",Re="#FFFFFF",Ae="#000000",Ie=!1,je=1,ot=4,nt=0,it=.1;function Oe(n,i=0){const s=[];return n.forEach(function(u,d){let p=null;u.forEach(function(v,g){if(!v&&p!==null){s.push(`M${p+i} ${d+i}h${g-p}v1H${p+i}z`),p=null;return}if(g===u.length-1){if(!v)return;p===null?s.push(`M${g+i},${d+i} h1v1H${g+i}z`):s.push(`M${p+i},${d+i} h${g+1-p}v1H${p+i}z`);return}v&&p===null&&(p=g)})}),s.join("")}function Be(n,i){return n.slice().map((s,u)=>u<i.y||u>=i.y+i.h?s:s.map((d,p)=>p<i.x||p>=i.x+i.w?d:!1))}function st(n,i,s,u){if(u==null)return null;const d=n.length+s*2,p=Math.floor(i*it),v=d/i,g=(u.width||p)*v,e=(u.height||p)*v,l=u.x==null?n.length/2-g/2:u.x*v,o=u.y==null?n.length/2-e/2:u.y*v,c=u.opacity==null?1:u.opacity;let a=null;if(u.excavate){let r=Math.floor(l),m=Math.floor(o),f=Math.ceil(g+l-r),y=Math.ceil(e+o-m);a={x:r,y:m,w:f,h:y}}const h=u.crossOrigin;return{x:l,y:o,h:e,w:g,excavation:a,opacity:c,crossOrigin:h}}function ct(n,i){return i!=null?Math.max(Math.floor(i),0):n?ot:nt}function Le({value:n,level:i,minVersion:s,includeMargin:u,marginSize:d,imageSettings:p,size:v,boostLevel:g}){let e=R.useMemo(()=>{const r=(Array.isArray(n)?n:[n]).reduce((m,f)=>(m.push(...F.QrSegment.makeSegments(f)),m),[]);return F.QrCode.encodeSegments(r,rt[i],s,void 0,void 0,g)},[n,i,s,g]);const{cells:l,margin:o,numCells:c,calculatedImageSettings:a}=R.useMemo(()=>{let h=e.getModules();const r=ct(u,d),m=h.length+r*2,f=st(h,v,r,p);return{cells:h,margin:r,numCells:m,calculatedImageSettings:f}},[e,v,p,u,d]);return{qrcode:e,margin:o,cells:l,numCells:c,calculatedImageSettings:a}}var ut=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),We=R.forwardRef(function(i,s){const u=i,{value:d,size:p=Pe,level:v=Me,bgColor:g=Re,fgColor:e=Ae,includeMargin:l=Ie,minVersion:o=je,boostLevel:c,marginSize:a,imageSettings:h}=u,m=ie(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=m,y=ie(m,["style"]),b=h?.src,x=R.useRef(null),w=R.useRef(null),T=R.useCallback(I=>{x.current=I,typeof s=="function"?s(I):s&&(s.current=I)},[s]),[k,_]=R.useState(!1),{margin:M,cells:j,numCells:O,calculatedImageSettings:A}=Le({value:d,level:v,minVersion:o,boostLevel:c,includeMargin:l,marginSize:a,imageSettings:h,size:p});R.useEffect(()=>{if(x.current!=null){const I=x.current,E=I.getContext("2d");if(!E)return;let B=j;const C=w.current,K=A!=null&&C!==null&&C.complete&&C.naturalHeight!==0&&C.naturalWidth!==0;K&&A.excavation!=null&&(B=Be(j,A.excavation));const H=window.devicePixelRatio||1;I.height=I.width=p*H;const Y=p/O*H;E.scale(Y,Y),E.fillStyle=g,E.fillRect(0,0,O,O),E.fillStyle=e,ut?E.fill(new Path2D(Oe(B,M))):j.forEach(function(L,Q){L.forEach(function(se,G){se&&E.fillRect(G+M,Q+M,1,1)})}),A&&(E.globalAlpha=A.opacity),K&&E.drawImage(C,A.x+M,A.y+M,A.w,A.h)}}),R.useEffect(()=>{_(!1)},[b]);const J=ne({height:p,width:p},f);let D=null;return b!=null&&(D=R.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{_(!0)},ref:w,crossOrigin:A?.crossOrigin})),R.createElement(R.Fragment,null,R.createElement("canvas",ne({style:J,height:p,width:p,ref:T,role:"img"},y)),D)});We.displayName="QRCodeCanvas";var dt=R.forwardRef(function(i,s){const u=i,{value:d,size:p=Pe,level:v=Me,bgColor:g=Re,fgColor:e=Ae,includeMargin:l=Ie,minVersion:o=je,boostLevel:c,title:a,marginSize:h,imageSettings:r}=u,m=ie(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:f,cells:y,numCells:b,calculatedImageSettings:x}=Le({value:d,level:v,minVersion:o,boostLevel:c,includeMargin:l,marginSize:h,imageSettings:r,size:p});let w=y,T=null;r!=null&&x!=null&&(x.excavation!=null&&(w=Be(y,x.excavation)),T=R.createElement("image",{href:r.src,height:x.h,width:x.w,x:x.x+f,y:x.y+f,preserveAspectRatio:"none",opacity:x.opacity,crossOrigin:x.crossOrigin}));const k=Oe(w,f);return R.createElement("svg",ne({height:p,width:p,viewBox:`0 0 ${b} ${b}`,ref:s,role:"img"},m),!!a&&R.createElement("title",null,a),R.createElement("path",{fill:g,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),R.createElement("path",{fill:e,d:k,shapeRendering:"crispEdges"}),T)});dt.displayName="QRCodeSVG";const ht=({question:n,onNext:i})=>{const[s,u]=N.useState("");return N.useEffect(()=>{if(typeof window<"u"){const d=window.location.origin;u(`${d}?source=qr_share`)}},[]),t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8 animate-fade-in relative z-10",children:[t.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-orange-500/20 blur-[100px] rounded-full -z-10 pointer-events-none"}),t.jsxs("div",{className:"text-center space-y-4 max-w-xl px-4",children:[t.jsx("div",{className:"inline-block p-3 rounded-full bg-orange-500/10 mb-4 shadow-[0_0_15px_rgba(249,115,22,0.2)]",children:t.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),t.jsx("h3",{className:"text-3xl md:text-5xl font-black text-white pb-2 leading-tight whitespace-pre-line",children:n.text}),n.subtitle&&t.jsx("p",{className:"text-lg md:text-xl text-zinc-400 font-light leading-relaxed max-w-lg mx-auto",children:n.subtitle})]}),t.jsxs("div",{className:"p-8 bg-zinc-900/80 backdrop-blur-xl border border-orange-500/30 rounded-3xl shadow-[0_0_50px_rgba(0,0,0,0.5)] flex flex-col items-center gap-6 transform transition-all hover:scale-105 hover:border-orange-500/50 duration-500 group",children:[t.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-orange-500/5 to-transparent h-full w-full animate-pulse pointer-events-none"}),s&&t.jsx(We,{value:s,size:200,level:"H",includeMargin:!1,fgColor:"#000000",bgColor:"#ffffff",imageSettings:{src:"/assets/fateflix-planet.png",x:void 0,y:void 0,height:40,width:40,excavate:!0}})]}),t.jsxs("div",{className:"text-center space-y-1",children:[t.jsx("p",{className:"text-orange-500 font-bold tracking-[0.2em] text-xs uppercase",children:"Scan to Match"}),t.jsx("p",{className:"text-white font-black tracking-tighter text-lg",children:"FATEFLIX"})]})]}),t.jsx("button",{onClick:i,className:"mt-8 text-zinc-500 hover:text-white transition-colors text-sm uppercase tracking-widest font-medium border-b border-transparent hover:border-white pb-1",children:"Skip for now"})]})},mt=({options:n,value:i,onChange:s})=>{const u=typeof i=="object"&&i!==null?i.selected:i,d=typeof i=="object"&&i!==null?i.otherText:"",p=n.some(l=>l.value==="other"),v=u==="other",g=l=>{s(l==="other"?{selected:"other",otherText:d||""}:l)},e=l=>{s({selected:"other",otherText:l})};return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(l=>{if(l.isHeader)return t.jsx("div",{className:"col-span-full mt-4 mb-1 border-b border-zinc-800 pb-2",children:t.jsx("span",{className:"text-xs font-bold tracking-widest text-zinc-500 uppercase",children:l.label})},l.value);const o=u===l.value;return t.jsx("button",{onClick:()=>g(l.value),className:`
                  px-5 py-4 rounded-xl text-left text-sm font-medium transition-all duration-300
                  border backdrop-blur-md
                  ${o?"bg-orange-500/10 border-orange-500/50 text-white shadow-[0_4px_20px_rgba(249,115,22,0.15)] ring-1 ring-orange-500/20":"bg-zinc-900/40 border-white/5 text-zinc-400 hover:bg-zinc-800/60 hover:border-white/10 hover:text-white"}
                `,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:l.label}),o&&t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 shadow-[0_0_8px_rgba(249,115,22,0.8)]"})]})},l.value)})}),p&&v&&t.jsx("div",{className:"mt-4 animate-slide-up",children:t.jsx("input",{type:"text",value:d,onChange:l=>e(l.target.value),placeholder:"Please specify...",className:"w-full bg-zinc-900/40 border border-orange-500/30 rounded-xl p-4 text-white placeholder:text-zinc-600 outline-none focus:border-orange-500/50 focus:shadow-[0_0_20px_rgba(249,115,22,0.1)] transition-all duration-500 backdrop-blur-md",autoFocus:!0})})]})},pt=({options:n,value:i=[],onChange:s})=>{const u=Array.isArray(i)?i:i?.selected||[],d=typeof i=="object"&&!Array.isArray(i)?i.otherText:"",p=n.some(r=>r.value==="other"),v=u.includes("other"),g=[];let e={header:null,items:[]};n.forEach(r=>{r.isHeader?((e.header||e.items.length>0)&&g.push(e),e={header:r,items:[]}):e.items.push(r)}),g.push(e);const[l,o]=N.useState({}),c=r=>{o(m=>({...m,[r]:!m[r]}))},a=r=>{const m=u.includes(r)?u.filter(f=>f!==r):[...u,r];m.includes("other")?s({selected:m,otherText:d||""}):s(m)},h=r=>{s({selected:u,otherText:r})};return t.jsxs("div",{className:"space-y-3",children:[g.map((r,m)=>{if(r.header){const f=l[r.header.value],y=r.items.filter(b=>u.includes(b.value)).length;return t.jsxs("div",{className:"border border-white/5 rounded-2xl overflow-hidden mb-4 bg-zinc-900/20 backdrop-blur-sm",children:[t.jsxs("button",{type:"button",onClick:()=>c(r.header.value),className:"w-full flex items-center justify-between p-5 hover:bg-white/[0.02] transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-base font-bold text-zinc-200",children:r.header.label}),y>0&&!f&&t.jsxs("span",{className:"bg-cyan-900/50 text-cyan-400 text-xs px-2 py-0.5 rounded-full",children:[y," selected"]})]}),t.jsx("svg",{className:`w-5 h-5 text-zinc-500 transition-transform duration-300 ${f?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&t.jsx("div",{className:"p-3 grid grid-cols-1 gap-3 bg-black/20 border-t border-zinc-800 animate-slide-down",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.items.map(b=>{const x=u.includes(b.value),w=b.isInlineOther;return t.jsxs("div",{className:`relative ${w&&x?"col-span-full":""}`,children:[t.jsx("button",{onClick:()=>a(b.value),className:`
                              w-full px-5 py-4 rounded-xl text-left text-sm font-medium transition-all duration-300
                              border backdrop-blur-md relative overflow-hidden
                              ${x?"bg-cyan-500/10 border-cyan-400/50 text-white shadow-[0_4px_20px_rgba(34,211,238,0.15)] ring-1 ring-cyan-500/20":"bg-zinc-900/40 border-white/5 text-zinc-400 hover:bg-zinc-800/60 hover:border-white/10 hover:text-white"}
                            `,children:t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("div",{className:"flex flex-col items-start text-left gap-0.5",children:[t.jsx("span",{className:"leading-snug",children:b.label}),b.examples&&t.jsx("span",{className:"text-xs text-zinc-500 italic font-light tracking-wide opacity-90 leading-tight",children:b.examples})]}),x&&t.jsx("span",{className:"text-cyan-400 text-xs bg-cyan-900/50 px-2 py-0.5 rounded-full ml-3 shrink-0",children:"Selected"})]})}),w&&x&&t.jsx("div",{className:"mt-3 animate-fade-in px-1",children:t.jsx("input",{type:"text",placeholder:`Please specify ${r.header.label} details...`,value:d.split(`${r.header.label}: `)[1]?.split(";")[0]||"",onChange:T=>{const k=T.target.value,_=`${r.header.label}: `;let M=d;const j=new RegExp(`${_}[^;]+(; )?`,"g");M=M.replace(j,""),M.endsWith("; ")&&(M=M.slice(0,-2));const O=M?`${M}; ${_}${k}`:`${_}${k}`;h(O)},onClick:T=>T.stopPropagation(),className:"w-full bg-zinc-950/50 border border-white/5 rounded-xl px-4 py-3 text-white placeholder-zinc-600 focus:border-cyan-500/30 focus:ring-1 focus:ring-cyan-500/20 outline-none transition-all duration-500 backdrop-blur-md"})})]},b.value)})})})]},r.header.value)}return r.items.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:r.items.map(f=>{const y=u.includes(f.value);return t.jsx("button",{onClick:()=>a(f.value),className:`
                        px-5 py-4 rounded-xl text-left text-sm font-medium transition-all duration-300
                        border backdrop-blur-md relative overflow-hidden
                        ${y?"bg-cyan-500/10 border-cyan-400/50 text-white shadow-[0_4px_20px_rgba(34,211,238,0.15)] ring-1 ring-cyan-500/20":"bg-zinc-900/40 border-white/5 text-zinc-400 hover:bg-zinc-800/60 hover:border-white/10 hover:text-white"}
                      `,children:t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("div",{className:"flex flex-col items-start text-left gap-0.5",children:[t.jsx("span",{className:"leading-snug",children:f.label}),f.examples&&t.jsx("span",{className:"text-xs text-zinc-500 italic font-light tracking-wide opacity-90 leading-tight",children:f.examples})]}),y&&t.jsx("span",{className:"text-cyan-400 text-xs bg-cyan-900/50 px-2 py-0.5 rounded-full ml-3 shrink-0",children:"Selected"})]})},f.value)})},`loose-${m}`):null}),p&&v&&t.jsx("div",{className:"mt-4 animate-slide-up",children:t.jsx("input",{type:"text",value:d,onChange:r=>h(r.target.value),placeholder:"Please specify...",className:"w-full bg-zinc-900/40 border border-cyan-400/30 rounded-xl p-4 text-white placeholder:text-zinc-600 outline-none focus:border-cyan-400/50 focus:shadow-[0_0_20px_rgba(34,211,238,0.1)] transition-all duration-500 backdrop-blur-md",autoFocus:!0})})]})},ze=({type:n="text",placeholder:i,value:s="",onChange:u,isHero:d})=>t.jsx("input",{type:n,value:s,onChange:p=>u(p.target.value),placeholder:i,className:`
      w-full bg-zinc-900/40 border rounded-xl outline-none transition-all duration-500
      placeholder:text-zinc-600 text-white backdrop-blur-md
      ${d?"p-8 text-3xl border-orange-500/30 focus:border-orange-500 focus:shadow-[0_0_40px_rgba(249,115,22,0.15)] text-center font-light":"p-4 border-white/5 focus:border-cyan-400/50 focus:bg-zinc-800/40 focus:shadow-[0_0_20px_rgba(34,211,238,0.05)]"}
    `}),ft=({placeholder:n,value:i="",onChange:s})=>{const u=N.useRef(null);N.useEffect(()=>{u.current&&(u.current.style.height="auto",u.current.style.height=`${u.current.scrollHeight}px`)},[i]);const d=p=>{const v=p.target;v.style.height="auto",v.style.height=`${v.scrollHeight}px`,s(v.value)};return t.jsx("textarea",{ref:u,value:i,onInput:d,placeholder:n,rows:4,className:`
        w-full bg-zinc-900/40 border border-white/5 rounded-xl p-5 
        text-white placeholder:text-zinc-600 outline-none 
        focus:border-cyan-400/50 focus:bg-zinc-800/40 transition-all duration-500
        resize-vertical min-h-[140px] backdrop-blur-md
        focus:shadow-[0_0_20px_rgba(34,211,238,0.05)]
      `,style:{overflow:"hidden"}})},gt=({question:n,value:i,onChange:s})=>t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8 animate-fade-in",children:[t.jsxs("div",{className:"text-center space-y-4 max-w-xl",children:[t.jsx("div",{className:"inline-block p-3 rounded-full bg-orange-500/10 mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"text-4xl md:text-5xl font-black text-white pb-2 whitespace-pre-line",children:n.text}),n.helpText&&t.jsx("p",{className:"text-xl text-zinc-400 font-light",children:n.helpText})]}),t.jsx("div",{className:"w-full max-w-md",children:t.jsx(ze,{isHero:!0,value:i,onChange:s,placeholder:"Type character name..."})})]}),bt=({question:n,onNext:i})=>t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[90vh] text-center space-y-16 py-12 animate-fade-in max-w-4xl mx-auto overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsxs("div",{className:"w-40 h-40 md:w-56 md:h-56 relative group",children:[t.jsx("div",{className:"absolute inset-0 bg-orange-500/20 blur-3xl rounded-full scale-75 group-hover:scale-110 transition-transform duration-1000"}),t.jsx("img",{src:n.image,alt:"Logo",className:"w-full h-full object-contain relative z-10 drop-shadow-[0_0_30px_rgba(249,115,22,0.3)] transition-transform duration-700 hover:scale-105",onError:s=>{s.target.style.display="none"}})]}),t.jsx("h2",{className:"text-[10px] md:text-xs tracking-[0.8em] text-zinc-500 font-bold uppercase transition-colors duration-500 hover:text-zinc-300",children:n.subtitle})]}),t.jsxs("div",{className:"space-y-12 max-w-2xl px-6 w-full",children:[t.jsx("p",{className:"text-xl md:text-2xl text-zinc-200 font-extralight leading-relaxed tracking-tight selection:bg-orange-500/30",children:n.missionText}),t.jsxs("div",{className:"py-10 border-y border-white/[0.03] space-y-6",children:[t.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-orange-500/60 font-black",children:"SHARE YOUR TASTE TO UNLOCK:"}),t.jsx("div",{className:"space-y-4",children:n.valueProps.map((s,u)=>t.jsx("p",{className:"text-zinc-100 font-light text-base md:text-lg tracking-wide opacity-90 hover:opacity-100 transition-opacity",children:s},u))})]}),t.jsxs("div",{className:"relative w-full overflow-hidden",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 w-8 bg-gradient-to-r from-zinc-950 to-transparent z-10"}),t.jsx("div",{className:"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-zinc-950 to-transparent z-10"}),t.jsx("div",{className:"flex whitespace-nowrap animate-marquee",children:[...Array(4)].map((s,u)=>t.jsx("span",{className:"text-zinc-500 text-sm italic font-light tracking-wide mx-8",children:n.assuranceText},u))}),t.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes marquee {
              0% { transform: translateX(0); }
              100% { transform: translateX(-50%); }
            }
            .animate-marquee {
              display: inline-flex;
              animation: marquee 20s linear infinite;
            }
          `}})]})]}),t.jsxs("button",{onClick:i,className:`
        group relative mt-4 px-12 py-3.5 
        overflow-hidden rounded-full
        bg-zinc-900 border border-white/10
        transition-all duration-500 hover:border-orange-500/50
        hover:shadow-[0_0_30px_rgba(249,115,22,0.15)]
        active:scale-95
      `,children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/0 via-orange-500/5 to-orange-500/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),t.jsx("span",{className:"relative z-10 text-xs md:text-sm font-bold tracking-[0.2em] uppercase text-white group-hover:text-orange-400 transition-colors",children:n.buttonText})]})]}),vt=({question:n,value:i=[],onChange:s,maxEntries:u=5})=>{const[d,p]=N.useState(!1),v=Array.isArray(i)?i:i?[i]:[],g=(c,a)=>{const h=[...v];h[c]=a,s(h.filter(r=>r.trim()!==""))},e=()=>{v.length<u&&s([...v,""])},l=c=>{const a=v.filter((h,r)=>r!==c);s(a)},o=v.length>0?v:[""];return t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-6 animate-fade-in relative",children:[t.jsxs("div",{className:"text-center space-y-4 max-w-xl",children:[t.jsx("div",{className:"inline-block p-3 rounded-full bg-orange-500/10 mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("h3",{className:"text-4xl md:text-5xl font-black text-white pb-2 whitespace-pre-line",children:n.text}),(n.infoPopup||n.inspoPopup)&&t.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-orange-500 hover:text-orange-400 transition-colors p-1","aria-label":"More info",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})})]}),n.helpText&&t.jsx("p",{className:"text-xl text-zinc-400 font-light whitespace-pre-line",children:n.helpText})]}),t.jsxs("div",{className:"w-full max-w-md space-y-3",children:[o.map((c,a)=>t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("input",{type:"text",value:c,onChange:h=>g(a,h.target.value),placeholder:`Character ${a+1}...`,className:"flex-1 bg-black border-2 border-orange-500/50 rounded-lg p-4 text-lg text-white placeholder:text-zinc-600 outline-none focus:border-orange-500 focus:shadow-[0_0_15px_rgba(249,115,22,0.2)] transition-all duration-300"}),v.length>1&&t.jsx("button",{onClick:()=>l(a),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-all",title:"Remove",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},a)),v.length<u&&t.jsxs("button",{onClick:e,className:"w-full py-3 border-2 border-dashed border-orange-500/30 rounded-lg text-orange-400 hover:border-orange-500 hover:bg-orange-500/10 transition-all duration-300 flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Another (",v.length,"/",u,")"]})]}),d&&(n.infoPopup||n.inspoPopup)&&Ce.createPortal(t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>p(!1),children:t.jsxs("div",{className:"bg-zinc-900 border border-orange-500/30 rounded-xl p-6 shadow-2xl max-w-sm w-full relative animate-scale-in",onClick:c=>c.stopPropagation(),children:[t.jsx("button",{onClick:()=>p(!1),className:"absolute top-3 right-3 text-zinc-500 hover:text-white transition-colors",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),t.jsx("h4",{className:"text-orange-400 text-sm font-bold tracking-widest uppercase mb-3",children:n.inspoPopup?"Inspiration":"Info"}),t.jsx("p",{className:"text-zinc-200 leading-relaxed font-light whitespace-pre-line text-base",children:(()=>{const c=n.infoPopup||n.inspoPopup;return c.includes(`
`)?c:c.split(", ").join(`,
`)})()})]})}),document.body)]})},xt=({question:n,value:i,onChange:s,onNext:u,setGlobalAnswer:d})=>{const[p,v]=N.useState(!1);return n.id==="latitude"||n.id==="longitude"||n.id==="country"?null:n.type==="hero_start"?t.jsx(bt,{question:n,onNext:u}):n.uiType==="hero_card"?t.jsx(gt,{question:n,value:i,onChange:s}):n.type==="qr_share"?t.jsx(ht,{question:n,onNext:u}):n.uiType==="multi_entry"?t.jsx(vt,{question:n,value:i,onChange:s,maxEntries:n.maxEntries||5}):n.id==="city"?t.jsxs("div",{className:"space-y-2 animate-slide-up",children:[t.jsx(at,{onLocationSelect:({city:g,country:e,lat:l,lng:o})=>{d&&(d("city",g),d("country",e),d("latitude",l),d("longitude",o))}}),n.disclaimer&&t.jsx("p",{className:"text-sm text-zinc-400 italic text-center mt-12",children:n.disclaimer})]}):t.jsxs("div",{className:"space-y-3 animate-slide-up",children:[t.jsxs("div",{className:"mb-4 relative",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("label",{className:"block text-xl font-bold text-white tracking-tight whitespace-pre-line",children:n.text}),(n.infoPopup||n.inspoPopup)&&t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-orange-500 hover:text-orange-400 transition-colors p-1","aria-label":"More info",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("circle",{cx:"12",cy:"12",r:"10"}),t.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),t.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),p&&Ce.createPortal(t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",onClick:()=>v(!1),children:t.jsxs("div",{className:"bg-zinc-900 border border-orange-500/30 rounded-xl p-6 shadow-2xl max-w-sm w-full relative animate-scale-in",onClick:g=>g.stopPropagation(),children:[t.jsx("button",{onClick:()=>v(!1),className:"absolute top-3 right-3 text-zinc-500 hover:text-white transition-colors",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),t.jsx("h4",{className:"text-orange-400 text-sm font-bold tracking-widest uppercase mb-3",children:n.inspoPopup?"Inspiration":"Info"}),t.jsx("p",{className:"text-zinc-200 leading-relaxed font-light whitespace-pre-line text-base",children:(()=>{const g=n.infoPopup||n.inspoPopup;return g.includes(`
`)?g:g.split(", ").join(`,
`)})()})]})}),document.body)]})]}),n.helpText&&t.jsx("p",{className:"text-base text-zinc-500 font-light tracking-wide",children:n.helpText})]}),n.type==="radio"&&t.jsx(mt,{options:n.options,value:i,onChange:s}),n.type==="checkbox"&&t.jsx(pt,{options:n.options,value:i,onChange:s}),(n.type==="text"||n.type==="email")&&t.jsx(ze,{type:n.type,placeholder:n.placeholder,value:i,onChange:s}),n.type==="date"&&t.jsx("input",{type:"date",value:i||"",onChange:g=>s(g.target.value),className:"w-full bg-black border-2 border-zinc-700 rounded-lg p-4 text-white placeholder:text-zinc-600 outline-none focus:border-cyan-400 focus:bg-zinc-900 transition-all duration-300 [color-scheme:dark]"}),n.type==="time"&&t.jsx("input",{type:"time",value:i||"",onChange:g=>s(g.target.value),className:"w-full bg-black border-2 border-zinc-700 rounded-lg p-4 text-white placeholder:text-zinc-600 outline-none focus:border-cyan-400 focus:bg-zinc-900 transition-all duration-300 [color-scheme:dark]"}),n.type==="number"&&t.jsx("input",{type:"number",step:"any",placeholder:n.placeholder,value:i||"",onChange:g=>s(g.target.value),className:"w-full bg-black border-2 border-zinc-700 rounded-lg p-4 text-white placeholder:text-zinc-600 outline-none focus:border-cyan-400 focus:bg-zinc-900 transition-all duration-300"}),n.type==="textarea"&&t.jsx(ft,{placeholder:n.placeholder,value:i,onChange:s})]})},yt=({isOpen:n,onClose:i,title:s,message:u,details:d})=>n?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",onClick:i,children:t.jsxs("div",{className:"bg-zinc-900 border-2 border-red-500/50 rounded-2xl max-w-2xl w-full max-h-[90vh] flex flex-col shadow-2xl",onClick:p=>p.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800",children:[t.jsx("h2",{className:"text-2xl font-bold text-red-400",children:s||"Cosmic Interference!"}),t.jsx("button",{onClick:i,className:"text-zinc-400 hover:text-white transition-colors text-2xl leading-none w-8 h-8 flex items-center justify-center rounded hover:bg-zinc-800","aria-label":"Close",children:"Ã—"})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t.jsx("p",{className:"text-white mb-4",children:u}),d&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm text-zinc-400 mb-2",children:"Technical Details:"}),t.jsx("pre",{className:"bg-black/50 p-4 rounded-lg text-xs text-zinc-300 overflow-x-auto max-h-64 overflow-y-auto",children:d})]})]}),t.jsx("div",{className:"p-6 border-t border-zinc-800 flex justify-end",children:t.jsx("button",{onClick:i,className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-colors",children:"OK"})})]})}):null,wt=()=>{const{currentStep:n,totalSteps:i,currentSection:s}=q();if(s.id==="intro-hero")return null;const u=(n+1)/i*100;return t.jsx("div",{className:"w-full bg-zinc-900 h-1.5 mb-12 rounded-full overflow-hidden relative shadow-[0_0_15px_rgba(249,115,22,0.15)]",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 via-orange-400 to-slate-50 transition-all duration-700 ease-out relative",style:{width:`${u}%`},children:t.jsx("div",{className:"absolute right-0 top-0 h-full w-12 bg-white/40 blur-lg animate-pulse"})})})},Te=({content:n,title:i})=>{const s=N.useRef(null),u=()=>{const d=s.current;if(d&&d.contentWindow){const p=d.contentWindow.document.documentElement.scrollHeight;d.style.height=`${p+50}px`}};return t.jsx("div",{className:"w-full overflow-hidden rounded-2xl bg-transparent",children:t.jsx("iframe",{ref:s,title:i,srcDoc:n,className:"w-full border-0",style:{minHeight:"600px"},onLoad:u,sandbox:"allow-scripts allow-same-origin"})})},Tt=({results:n})=>(N.useEffect(()=>{console.log("ResultsDashboard mounted with results:",n)},[n]),t.jsx("div",{className:"min-h-screen bg-black text-white font-sans selection:bg-orange-500 selection:text-white p-6",style:{backgroundColor:"#000000",minHeight:"100vh"},children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 animate-fade-in",children:[t.jsx("div",{className:"sticky top-6 z-50 flex justify-center pb-8 pointer-events-none",children:t.jsxs("div",{className:"pointer-events-auto flex items-center gap-1 p-1.5 rounded-full bg-zinc-900/80 backdrop-blur-xl border border-white/10 shadow-[0_8px_32px_rgba(0,0,0,0.5)] ring-1 ring-white/5 transition-all duration-500 hover:scale-[1.02]",children:[t.jsx("a",{href:"#badge",className:"px-5 py-2.5 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] text-zinc-400 hover:text-white hover:bg-white/10 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)] transition-all duration-300",children:"Badge"}),t.jsx("a",{href:"#reading1",className:"px-5 py-2.5 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] text-zinc-400 hover:text-white hover:bg-white/10 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)] transition-all duration-300",children:"Part I"}),t.jsx("a",{href:"#reading2",className:"px-5 py-2.5 rounded-full text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] text-zinc-400 hover:text-white hover:bg-white/10 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)] transition-all duration-300",children:"Part II"})]})}),t.jsx("div",{id:"badge",className:"flex justify-center mb-12",children:t.jsx("div",{className:"transform hover:scale-105 transition-transform duration-500",dangerouslySetInnerHTML:{__html:n.badge}})}),t.jsxs("div",{className:"space-y-12",children:[t.jsx("div",{id:"reading1",className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800 shadow-2xl shadow-orange-900/5",children:t.jsx(Te,{content:n.html1,title:"Cosmic Chart"})}),t.jsx("div",{id:"reading2",className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800 shadow-2xl shadow-cyan-900/5",children:t.jsx(Te,{content:n.html2,title:"Chart Details"})})]}),t.jsx("div",{className:"text-center pt-12 pb-24",children:t.jsx("button",{onClick:()=>{window.history.pushState({},"","/"),window.location.reload()},className:"px-8 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-full font-bold tracking-wider transition-all",children:"Replay Survey"})})]})})),St=({submitStatus:n,setSubmitStatus:i,setResults:s,setErrorModal:u})=>{const{currentStep:d,totalSteps:p,nextStep:v,prevStep:g,answers:e,currentSection:l,submissionId:o,setSubmissionId:c,setChartId:a,setUserEmail:h}=q();if(l.id==="intro-hero")return null;const r=d===p-1,m=n==="loading",f=async()=>{if(l.id==="astro-data"){const b=["username","date","city","latitude","longitude","time_accuracy"].filter(x=>!e[x]);if(b.length>0){u({isOpen:!0,title:"Missing Information",message:`Please fill in all cosmic coordinates: ${b.join(", ")}`,details:null});return}try{const x=e.time_accuracy==="unknown",w={date:e.date,time:x||!e.time?"12:00":e.time,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),city:e.city,country:e.country||"Unknown",username:e.username,userEmail:e.email||null,timeAccuracy:e.time_accuracy},k=await fetch("/api/dev/chart-to-svg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)});if(k.ok){const _=await k.json();_.submissionId&&_.chartId&&(c(_.submissionId),a(_.chartId),e.email&&h(e.email),console.log("âœ… Chart computed, submission created:",_.submissionId))}else{const _=await k.text().catch(()=>"Unknown error");console.warn("âš ï¸ Chart computation failed (non-fatal, will retry on submit):",_)}}catch(x){console.warn("âš ï¸ Error computing chart (non-fatal, will retry on submit):",x.message)}}if(r){i("loading");const y=e.time_accuracy==="unknown",b={date:e.date,time:y||!e.time?"12:00":e.time,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),city:e.city,country:e.country||"Unknown",username:e.username,userEmail:e.email,timeAccuracy:e.time_accuracy,fullResponses:e};let x=o;if(x)try{const T=[];e.top3_films&&T.push(`TOP 3 FILMS:
${e.top3_films}`),e.top3_series&&T.push(`TOP 3 SERIES:
${e.top3_series}`),e.top3_docs&&T.push(`TOP 3 DOCS:
${e.top3_docs}`),T.length>0&&await fetch("/api/survey/save-answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({submissionId:x,questionKey:"hall_of_fame",answerValue:T.join(`

`),userEmail:e.email||null})}).catch(k=>{console.warn("âš ï¸ Failed to save hall_of_fame:",k)})}catch(w){console.warn("âš ï¸ Failed to save top3 fields:",w)}console.log("Submitting Payload:",b),console.log("Using submissionId:",x||"will create new");try{const T=await fetch("/api/dev/chart-to-svg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!T.ok){const M=await T.text().catch(()=>"Unknown error");throw new Error(`Chart generation failed: ${T.status} - ${M}`)}let k;try{k=await T.json()}catch{throw new Error("Invalid JSON response from server")}if(!(k.submissionId||x))throw new Error("No submissionId returned from server. Response: "+JSON.stringify(k));if(k.submissionId&&!x&&(c(k.submissionId),k.chartId&&a(k.chartId)),k.htmlUrl){window.location.href=k.htmlUrl;return}i("success")}catch(w){console.error("Submission error details:",{message:w.message,stack:w.stack,name:w.name});const T=w.message||"Unknown error occurred";u({isOpen:!0,title:"Cosmic Interference!",message:T,details:w.stack||JSON.stringify(w,null,2)}),i("error")}}else v()};return t.jsxs("div",{id:"survey-controls",className:"flex justify-between mt-12 pt-6 pb-12 md:pb-8 border-t border-gray-800",children:[t.jsx("button",{onClick:g,disabled:d===0||m,className:`px-6 py-2 rounded-md font-medium transition-colors
          ${d===0?"text-gray-600 cursor-not-allowed":"text-white hover:text-cyan-400 border border-gray-700 hover:border-cyan-400"}`,children:"Previous"}),t.jsx("button",{onClick:f,disabled:m,className:`px-6 py-2 rounded-md font-medium bg-white text-black hover:bg-cyan-400 transition-colors ${m?"opacity-50 cursor-wait":""}`,children:m?"Sending...":r?"Submit":"Next"})]})},kt=({nextStep:n})=>{const{currentSection:i,answers:s,setAnswer:u}=q(),d=i.id==="section-swipe",p=i.id==="intro-hero",v=N.useCallback(g=>{const e=i.questions.findIndex(l=>l.id===g);if(e!==-1&&e<i.questions.length-1){const l=i.questions[e+1],o=document.getElementById(`question-${l.id}`);o&&setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"center"})},300)}else{const l=document.getElementById("survey-controls");l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"end"})},150)}},[i]);return t.jsxs("div",{className:"animate-fade-in",children:[!d&&!p&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 mb-2",children:i.title}),i.subtitle&&t.jsx("p",{className:"text-zinc-400 text-lg",children:i.subtitle})]}),t.jsx("div",{className:`space-y-12 ${p?"":"min-h-[300px]"}`,children:i.questions.length===0?t.jsx("div",{className:"p-8 border border-gray-800 border-dashed rounded-lg text-gray-500 text-center italic",children:"Questions for this section loading..."}):t.jsx("div",{className:"space-y-10",children:i.questions.map(g=>t.jsx("div",{id:`question-${g.id}`,className:p?"":"scroll-mt-24 transition-opacity duration-500",children:t.jsx(xt,{question:g,value:s[g.id],setGlobalAnswer:u,onChange:e=>{u(g.id,e),g.type==="radio"&&v(g.id)},onNext:n})},g.id))})})]})},Ct=()=>{const{currentSection:n,currentStep:i,nextStep:s}=q(),[u,d]=N.useState("idle"),[p,v]=N.useState(null),[g,e]=N.useState({isOpen:!1,title:"",message:"",details:null}),l=n?.id==="intro-hero";return N.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[i]),N.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("submissionId");c&&!p&&u==="idle"&&(async h=>{try{d("loading");const r="",[m,f,y,b]=await Promise.all([fetch(`${r}/reading/${h}/chart.svg`),fetch(`${r}/reading/${h}/badge`),fetch(`${r}/reading/${h}/html`),fetch(`${r}/reading/${h}/html/2`)]);if(!m.ok||!f.ok||!y.ok||!b.ok)throw new Error("Failed to load results");v({svg:await m.text(),badge:await f.text(),html1:await y.text(),html2:await b.text()}),d("success")}catch(r){console.error("Failed to load results from URL:",r),d("error"),e({isOpen:!0,title:"Failed to Load Results",message:"We could not retrieve your cosmic data.",details:r.message})}})(c)},[]),u==="success"&&p?t.jsx(Tt,{results:p}):t.jsxs("div",{className:"min-h-screen w-full bg-zinc-950 text-white flex flex-col items-center py-8 px-4 md:px-0 font-sans selection:bg-orange-500 selection:text-white",children:[t.jsxs("div",{className:"w-full max-w-2xl bg-transparent flex flex-col gap-8",children:[!l&&t.jsxs("header",{className:"mb-16 flex flex-col items-center",children:[t.jsxs("div",{className:"w-20 h-20 md:w-24 md:h-24 relative group mb-4",children:[t.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-2xl rounded-full scale-75"}),t.jsx("img",{src:"/assets/fateflix-planet.png",alt:"FateFlix Logo",className:"w-full h-full object-contain relative z-10 drop-shadow-[0_0_20px_rgba(249,115,22,0.2)]"})]}),t.jsx("h2",{className:"text-[8px] md:text-[10px] tracking-[0.6em] text-zinc-500 font-bold uppercase",children:"CINEMATIC TASTE SURVEY"})]}),t.jsx(wt,{}),t.jsxs("div",{className:" w-full max-w-2xl bg-transparent flex flex-col gap-8 p-8 md:p-12 transition-all duration-500",children:[t.jsx(kt,{nextStep:s}),t.jsx(St,{submitStatus:u,setSubmitStatus:d,setResults:v,setErrorModal:e})]})]}),t.jsx(yt,{isOpen:g.isOpen,onClose:()=>e({isOpen:!1,title:"",message:"",details:null}),title:g.title,message:g.message,details:g.details})]})};function Pt(){return t.jsx($e,{children:t.jsx(Ct,{})})}export{Pt as default};
